#!/usr/bin/env node
var Je=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});import ef from"dotenv";import jt from"node:process";import Gi,{format as Mi}from"util";import{normalize as ji,resolve as Bi}from"path";import{readFileSync as ki}from"fs";import ee from"node:path";import Ui from"node:process";import{fileURLToPath as Xr}from"node:url";import qr from"node:fs";import Jr from"os";import Zr from"url";function Le(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let o=e.charAt(s);n&&(n=!1,o=o.toUpperCase()),s!==0&&(o==="-"||o==="_")?n=!0:o!=="-"&&o!=="_"&&(r+=o)}return r}}function Qr(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),o=e.charAt(i);s!==o&&i>0?n+=`${t}${r.charAt(i)}`:n+=o}return n}function en(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function Wi(e){if(Array.isArray(e))return e.map(o=>typeof o!="string"?o+"":o);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let o=0;o<e.length;o++){if(r=n,n=e.charAt(o),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n}return s}var H;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(H||(H={}));var J,ft=class{constructor(t){J=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=Wi(t),s=typeof t=="string",o=zi(Object.assign(Object.create(null),n.alias)),a=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],g=n.envPrefix,m=a["populate--"],L=m?"--":"_",C=Object.create(null),v=Object.create(null),p=n.__||J.format,l={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},y=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,O=new RegExp("^--"+a["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(f){let d=typeof f=="object"?f.key:f,w=Object.keys(f).map(function(b){return{boolean:"bools",string:"strings",number:"numbers"}[b]}).filter(Boolean).pop();w&&(l[w][d]=!0),l.arrays[d]=!0,l.keys.push(d)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(f){l.bools[f]=!0,l.keys.push(f)}),[].concat(n.string||[]).filter(Boolean).forEach(function(f){l.strings[f]=!0,l.keys.push(f)}),[].concat(n.number||[]).filter(Boolean).forEach(function(f){l.numbers[f]=!0,l.keys.push(f)}),[].concat(n.count||[]).filter(Boolean).forEach(function(f){l.counts[f]=!0,l.keys.push(f)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(f){l.normalize[f]=!0,l.keys.push(f)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([f,d])=>{typeof d=="number"&&(l.nargs[f]=d,l.keys.push(f))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([f,d])=>{typeof d=="function"&&(l.coercions[f]=d,l.keys.push(f))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(f){l.configs[f]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([f,d])=>{(typeof d=="boolean"||typeof d=="function")&&(l.configs[f]=d)})),Ii(n.key,o,n.default,l.arrays),Object.keys(c).forEach(function(f){(l.aliases[f]||[]).forEach(function(d){c[d]=c[f]})});let E=null;Ti();let I=[],R=Object.assign(Object.create(null),{_:[]}),k={};for(let f=0;f<i.length;f++){let d=i[f],w=d.replace(/^-{3,}/,"---"),b,h,S,A,$,T;if(d!=="--"&&/^-/.test(d)&&$e(d))U(d);else if(w.match(/^---+(=|$)/)){U(d);continue}else if(d.match(/^--.+=/)||!a["short-option-groups"]&&d.match(/^-.+=/))A=d.match(/^--?([^=]+)=([\s\S]*)$/),A!==null&&Array.isArray(A)&&A.length>=3&&(_(A[1],l.arrays)?f=ie(f,A[1],i,A[2]):_(A[1],l.nargs)!==!1?f=Z(f,A[1],i,A[2]):x(A[1],A[2],!0));else if(d.match(O)&&a["boolean-negation"])A=d.match(O),A!==null&&Array.isArray(A)&&A.length>=2&&(h=A[1],x(h,_(h,l.arrays)?[!1]:!1));else if(d.match(/^--.+/)||!a["short-option-groups"]&&d.match(/^-[^-]+/))A=d.match(/^--?(.+)/),A!==null&&Array.isArray(A)&&A.length>=2&&(h=A[1],_(h,l.arrays)?f=ie(f,h,i):_(h,l.nargs)!==!1?f=Z(f,h,i):($=i[f+1],$!==void 0&&(!$.match(/^-/)||$.match(y))&&!_(h,l.bools)&&!_(h,l.counts)||/^(true|false)$/.test($)?(x(h,$),f++):x(h,fe(h))));else if(d.match(/^-.\..+=/))A=d.match(/^-([^=]+)=([\s\S]*)$/),A!==null&&Array.isArray(A)&&A.length>=3&&x(A[1],A[2]);else if(d.match(/^-.\..+/)&&!d.match(y))$=i[f+1],A=d.match(/^-(.\..+)/),A!==null&&Array.isArray(A)&&A.length>=2&&(h=A[1],$!==void 0&&!$.match(/^-/)&&!_(h,l.bools)&&!_(h,l.counts)?(x(h,$),f++):x(h,fe(h)));else if(d.match(/^-[^-]+/)&&!d.match(y)){S=d.slice(1,-1).split(""),b=!1;for(let j=0;j<S.length;j++){if($=d.slice(j+2),S[j+1]&&S[j+1]==="="){T=d.slice(j+3),h=S[j],_(h,l.arrays)?f=ie(f,h,i,T):_(h,l.nargs)!==!1?f=Z(f,h,i,T):x(h,T),b=!0;break}if($==="-"){x(S[j],$);continue}if(/[A-Za-z]/.test(S[j])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test($)&&_($,l.bools)===!1){x(S[j],$),b=!0;break}if(S[j+1]&&S[j+1].match(/\W/)){x(S[j],$),b=!0;break}else x(S[j],fe(S[j]))}h=d.slice(-1)[0],!b&&h!=="-"&&(_(h,l.arrays)?f=ie(f,h,i):_(h,l.nargs)!==!1?f=Z(f,h,i):($=i[f+1],$!==void 0&&(!/^(-|--)[^-]/.test($)||$.match(y))&&!_(h,l.bools)&&!_(h,l.counts)||/^(true|false)$/.test($)?(x(h,$),f++):x(h,fe(h))))}else if(d.match(/^-[0-9]$/)&&d.match(y)&&_(d.slice(1),l.bools))h=d.slice(1),x(h,fe(h));else if(d==="--"){I=i.slice(f+1);break}else if(a["halt-at-non-option"]){I=i.slice(f);break}else U(d)}Vt(R,!0),Vt(R,!1),Si(R),Pi(),Kt(R,l.aliases,c,!0),$i(R),a["set-placeholder-key"]&&_i(R),Object.keys(l.counts).forEach(function(f){Ee(R,f.split("."))||x(f,0)}),m&&I.length&&(R[L]=[]),I.forEach(function(f){R[L].push(f)}),a["camel-case-expansion"]&&a["strip-dashed"]&&Object.keys(R).filter(f=>f!=="--"&&f.includes("-")).forEach(f=>{delete R[f]}),a["strip-aliased"]&&[].concat(...Object.keys(o).map(f=>o[f])).forEach(f=>{a["camel-case-expansion"]&&f.includes("-")&&delete R[f.split(".").map(d=>Le(d)).join(".")],delete R[f]});function U(f){let d=Pe("_",f);(typeof d=="string"||typeof d=="number")&&R._.push(d)}function Z(f,d,w,b){let h,S=_(d,l.nargs);if(S=typeof S!="number"||isNaN(S)?1:S,S===0)return q(b)||(E=Error(p("Argument unexpected for: %s",d))),x(d,fe(d)),f;let A=q(b)?0:1;if(a["nargs-eats-options"])w.length-(f+1)+A<S&&(E=Error(p("Not enough arguments following: %s",d))),A=S;else{for(h=f+1;h<w.length&&(!w[h].match(/^-[^0-9]/)||w[h].match(y)||$e(w[h]));h++)A++;A<S&&(E=Error(p("Not enough arguments following: %s",d)))}let $=Math.min(A,S);for(!q(b)&&$>0&&(x(d,b),$--),h=f+1;h<$+f+1;h++)x(d,w[h]);return f+$}function ie(f,d,w,b){let h=[],S=b||w[f+1],A=_(d,l.nargs);if(_(d,l.bools)&&!/^(true|false)$/.test(S))h.push(!0);else if(q(S)||q(b)&&/^-/.test(S)&&!y.test(S)&&!$e(S)){if(c[d]!==void 0){let $=c[d];h=Array.isArray($)?$:[$]}}else{q(b)||h.push(Xe(d,b,!0));for(let $=f+1;$<w.length&&!(!a["greedy-arrays"]&&h.length>0||A&&typeof A=="number"&&h.length>=A||(S=w[$],/^-/.test(S)&&!y.test(S)&&!$e(S)));$++)f=$,h.push(Xe(d,S,s))}return typeof A=="number"&&(A&&h.length<A||isNaN(A)&&h.length===0)&&(E=Error(p("Not enough arguments following: %s",d))),x(d,h),f}function x(f,d,w=s){if(/-/.test(f)&&a["camel-case-expansion"]){let S=f.split(".").map(function(A){return Le(A)}).join(".");Yt(f,S)}let b=Xe(f,d,w),h=f.split(".");we(R,h,b),l.aliases[f]&&l.aliases[f].forEach(function(S){let A=S.split(".");we(R,A,b)}),h.length>1&&a["dot-notation"]&&(l.aliases[h[0]]||[]).forEach(function(S){let A=S.split("."),$=[].concat(h);$.shift(),A=A.concat($),(l.aliases[f]||[]).includes(A.join("."))||we(R,A,b)}),_(f,l.normalize)&&!_(f,l.arrays)&&[f].concat(l.aliases[f]||[]).forEach(function(A){Object.defineProperty(k,A,{enumerable:!0,get(){return d},set($){d=typeof $=="string"?J.normalize($):$}})})}function Yt(f,d){l.aliases[f]&&l.aliases[f].length||(l.aliases[f]=[d],C[d]=!0),l.aliases[d]&&l.aliases[d].length||Yt(d,f)}function Xe(f,d,w){w&&(d=Hi(d)),(_(f,l.bools)||_(f,l.counts))&&typeof d=="string"&&(d=d==="true");let b=Array.isArray(d)?d.map(function(h){return Pe(f,h)}):Pe(f,d);return _(f,l.counts)&&(q(b)||typeof b=="boolean")&&(b=Ze()),_(f,l.normalize)&&_(f,l.arrays)&&(Array.isArray(d)?b=d.map(h=>J.normalize(h)):b=J.normalize(d)),b}function Pe(f,d){return!a["parse-positional-numbers"]&&f==="_"||!_(f,l.strings)&&!_(f,l.bools)&&!Array.isArray(d)&&(en(d)&&a["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${d}`)))||!q(d)&&_(f,l.numbers))&&(d=Number(d)),d}function Si(f){let d=Object.create(null);Kt(d,l.aliases,c),Object.keys(l.configs).forEach(function(w){let b=f[w]||d[w];if(b)try{let h=null,S=J.resolve(J.cwd(),b),A=l.configs[w];if(typeof A=="function"){try{h=A(S)}catch($){h=$}if(h instanceof Error){E=h;return}}else h=J.require(S);qe(h)}catch(h){h.name==="PermissionDenied"?E=h:f[w]&&(E=Error(p("Invalid JSON config file: %s",b)))}})}function qe(f,d){Object.keys(f).forEach(function(w){let b=f[w],h=d?d+"."+w:w;typeof b=="object"&&b!==null&&!Array.isArray(b)&&a["dot-notation"]?qe(b,h):(!Ee(R,h.split("."))||_(h,l.arrays)&&a["combine-arrays"])&&x(h,b)})}function Pi(){typeof u<"u"&&u.forEach(function(f){qe(f)})}function Vt(f,d){if(typeof g>"u")return;let w=typeof g=="string"?g:"",b=J.env();Object.keys(b).forEach(function(h){if(w===""||h.lastIndexOf(w,0)===0){let S=h.split("__").map(function(A,$){return $===0&&(A=A.substring(w.length)),Le(A)});(d&&l.configs[S.join(".")]||!d)&&!Ee(f,S)&&x(S.join("."),b[h])}})}function $i(f){let d,w=new Set;Object.keys(f).forEach(function(b){if(!w.has(b)&&(d=_(b,l.coercions),typeof d=="function"))try{let h=Pe(b,d(f[b]));[].concat(l.aliases[b]||[],b).forEach(S=>{w.add(S),f[S]=h})}catch(h){E=h}})}function _i(f){return l.keys.forEach(d=>{~d.indexOf(".")||typeof f[d]>"u"&&(f[d]=void 0)}),f}function Kt(f,d,w,b=!1){Object.keys(w).forEach(function(h){Ee(f,h.split("."))||(we(f,h.split("."),w[h]),b&&(v[h]=!0),(d[h]||[]).forEach(function(S){Ee(f,S.split("."))||we(f,S.split("."),w[h])}))})}function Ee(f,d){let w=f;a["dot-notation"]||(d=[d.join(".")]),d.slice(0,-1).forEach(function(h){w=w[h]||{}});let b=d[d.length-1];return typeof w!="object"?!1:b in w}function we(f,d,w){let b=f;a["dot-notation"]||(d=[d.join(".")]),d.slice(0,-1).forEach(function(T){T=qt(T),typeof b=="object"&&b[T]===void 0&&(b[T]={}),typeof b[T]!="object"||Array.isArray(b[T])?(Array.isArray(b[T])?b[T].push({}):b[T]=[b[T],{}],b=b[T][b[T].length-1]):b=b[T]});let h=qt(d[d.length-1]),S=_(d.join("."),l.arrays),A=Array.isArray(w),$=a["duplicate-arguments-array"];!$&&_(h,l.nargs)&&($=!0,(!q(b[h])&&l.nargs[h]===1||Array.isArray(b[h])&&b[h].length===l.nargs[h])&&(b[h]=void 0)),w===Ze()?b[h]=Ze(b[h]):Array.isArray(b[h])?$&&S&&A?b[h]=a["flatten-duplicate-arrays"]?b[h].concat(w):(Array.isArray(b[h][0])?b[h]:[b[h]]).concat([w]):!$&&!!S==!!A?b[h]=w:b[h]=b[h].concat([w]):b[h]===void 0&&S?b[h]=A?w:[w]:$&&!(b[h]===void 0||_(h,l.counts)||_(h,l.bools))?b[h]=[b[h],w]:b[h]=w}function Ii(...f){f.forEach(function(d){Object.keys(d||{}).forEach(function(w){l.aliases[w]||(l.aliases[w]=[].concat(o[w]||[]),l.aliases[w].concat(w).forEach(function(b){if(/-/.test(b)&&a["camel-case-expansion"]){let h=Le(b);h!==w&&l.aliases[w].indexOf(h)===-1&&(l.aliases[w].push(h),C[h]=!0)}}),l.aliases[w].concat(w).forEach(function(b){if(b.length>1&&/[A-Z]/.test(b)&&a["camel-case-expansion"]){let h=Qr(b,"-");h!==w&&l.aliases[w].indexOf(h)===-1&&(l.aliases[w].push(h),C[h]=!0)}}),l.aliases[w].forEach(function(b){l.aliases[b]=[w].concat(l.aliases[w].filter(function(h){return b!==h}))}))})})}function _(f,d){let w=[].concat(l.aliases[f]||[],f),b=Object.keys(d),h=w.find(S=>b.includes(S));return h?d[h]:!1}function Xt(f){let d=Object.keys(l);return[].concat(d.map(b=>l[b])).some(function(b){return Array.isArray(b)?b.includes(f):b[f]})}function Ri(f,...d){return[].concat(...d).some(function(b){let h=f.match(b);return h&&Xt(h[1])})}function Ni(f){if(f.match(y)||!f.match(/^-[^-]+/))return!1;let d=!0,w,b=f.slice(1).split("");for(let h=0;h<b.length;h++){if(w=f.slice(h+2),!Xt(b[h])){d=!1;break}if(b[h+1]&&b[h+1]==="="||w==="-"||/[A-Za-z]/.test(b[h])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(w)||b[h+1]&&b[h+1].match(/\W/))break}return d}function $e(f){return a["unknown-options-as-args"]&&xi(f)}function xi(f){return f=f.replace(/^-{3,}/,"--"),f.match(y)||Ni(f)?!1:!Ri(f,/^-+([^=]+?)=[\s\S]*$/,O,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function fe(f){return!_(f,l.bools)&&!_(f,l.counts)&&`${f}`in c?c[f]:Di(Fi(f))}function Di(f){return{[H.BOOLEAN]:!0,[H.STRING]:"",[H.NUMBER]:void 0,[H.ARRAY]:[]}[f]}function Fi(f){let d=H.BOOLEAN;return _(f,l.strings)?d=H.STRING:_(f,l.numbers)?d=H.NUMBER:_(f,l.bools)?d=H.BOOLEAN:_(f,l.arrays)&&(d=H.ARRAY),d}function q(f){return f===void 0}function Ti(){Object.keys(l.counts).find(f=>_(f,l.arrays)?(E=Error(p("Invalid configuration: %s, opts.count excludes opts.array.",f)),!0):_(f,l.nargs)?(E=Error(p("Invalid configuration: %s, opts.count excludes opts.narg.",f)),!0):!1)}return{aliases:Object.assign({},l.aliases),argv:Object.assign(k,R),configuration:a,defaulted:Object.assign({},v),error:E,newAliases:Object.assign({},C)}}};function zi(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(a){return t[s].indexOf(a)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(o,a,c){return c.indexOf(o)===a});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}function Ze(e){return e!==void 0?e+1:1}function qt(e){return e==="__proto__"?"___proto___":e}function Hi(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}var Qe,et,tt,Jt=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Zt=(et=(Qe=process==null?void 0:process.versions)===null||Qe===void 0?void 0:Qe.node)!==null&&et!==void 0?et:(tt=process==null?void 0:process.version)===null||tt===void 0?void 0:tt.slice(1);if(Zt&&Number(Zt.match(/^([^.]+)/)[1])<Jt)throw Error(`yargs parser supports a minimum Node.js version of ${Jt}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Yi=process?process.env:{},tn=new ft({cwd:process.cwd,env:()=>Yi,format:Mi,normalize:ji,resolve:Bi,require:e=>{if(typeof Je<"u")return Je(e);if(e.match(/\.json$/))return JSON.parse(ki(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),ye=function(t,r){return tn.parse(t.slice(),r).argv};ye.detailed=function(e,t){return tn.parse(e.slice(),t)};ye.camelCase=Le;ye.decamelize=Qr;ye.looksLikeNumber=en;var rn=e=>typeof e=="object"&&e!==null,Qt=e=>rn(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),Vi=Symbol("mapObjectSkip"),ht=(e,t,r,n=new WeakMap)=>{if(r={deep:!1,target:{},...r},n.has(e))return n.get(e);n.set(e,r.target);let{target:i}=r;delete r.target;let s=o=>o.map(a=>Qt(a)?ht(a,t,r,n):a);if(Array.isArray(e))return s(e);for(let[o,a]of Object.entries(e)){let c=t(o,a,e);if(c===Vi)continue;let[u,g,{shouldRecurse:m=!0}={}]=c;u!=="__proto__"&&(r.deep&&m&&Qt(g)&&(g=Array.isArray(g)?s(g):ht(g,t,r,n)),i[u]=g)}return i};function er(e,t,r){if(!rn(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return ht(e,t,r)}var Ki=/[\p{Lu}]/u,Xi=/[\p{Ll}]/u,tr=/^[\p{Lu}](?![\p{Lu}])/gu,nn=/([\p{Alpha}\p{N}_]|$)/u,Pt=/[_.\- ]+/,qi=new RegExp("^"+Pt.source),rr=new RegExp(Pt.source+nn.source,"gu"),nr=new RegExp("\\d+"+nn.source,"gu"),Ji=(e,t,r,n)=>{let i=!1,s=!1,o=!1,a=!1;for(let c=0;c<e.length;c++){let u=e[c];a=c>2?e[c-3]==="-":!0,i&&Ki.test(u)?(e=e.slice(0,c)+"-"+e.slice(c),i=!1,o=s,s=!0,c++):s&&o&&Xi.test(u)&&(!a||n)?(e=e.slice(0,c-1)+"-"+e.slice(c-1),o=s,s=!1,i=!0):(i=t(u)===u&&r(u)!==u,o=s,s=r(u)===u&&t(u)!==u)}return e},Zi=(e,t)=>(tr.lastIndex=0,e.replaceAll(tr,r=>t(r))),Qi=(e,t)=>(rr.lastIndex=0,nr.lastIndex=0,e.replaceAll(nr,(r,n,i)=>["_","-"].includes(e.charAt(i+r.length))?r:t(r)).replaceAll(rr,(r,n)=>t(n)));function es(e,t){if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(s=>s.trim()).filter(s=>s.length).join("-"):e=e.trim(),e.length===0)return"";let r=t.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(t.locale),n=t.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(t.locale);return e.length===1?Pt.test(e)?"":t.pascalCase?n(e):r(e):(e!==r(e)&&(e=Ji(e,r,n,t.preserveConsecutiveUppercase)),e=e.replace(qi,""),e=t.preserveConsecutiveUppercase?Zi(e,r):r(e),t.pascalCase&&(e=n(e.charAt(0))+e.slice(1)),Qi(e,n))}var Fe=class extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if(typeof this.onEviction=="function")for(let[r,n]of t)this.onEviction(r,n.value)}_deleteIfExpired(t,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(t,r.value),this.delete(t)):!1}_getOrDeleteIfExpired(t,r){if(this._deleteIfExpired(t,r)===!1)return r.value}_getItemValue(t,r){return r.expiry?this._getOrDeleteIfExpired(t,r):r.value}_peek(t,r){let n=r.get(t);return this._getItemValue(t,n)}_set(t,r){this.cache.set(t,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,r){this.oldCache.delete(t),this._set(t,r)}*_entriesAscending(){for(let t of this.oldCache){let[r,n]=t;this.cache.has(r)||this._deleteIfExpired(r,n)===!1&&(yield t)}for(let t of this.cache){let[r,n]=t;this._deleteIfExpired(r,n)===!1&&(yield t)}}get(t){if(this.cache.has(t)){let r=this.cache.get(t);return this._getItemValue(t,r)}if(this.oldCache.has(t)){let r=this.oldCache.get(t);if(this._deleteIfExpired(t,r)===!1)return this._moveToRecent(t,r),r.value}}set(t,r,{maxAge:n=this.maxAge}={}){let i=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.cache.has(t)?this.cache.set(t,{value:r,expiry:i}):this._set(t,{value:r,expiry:i}),this}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):this.oldCache.has(t)?!this._deleteIfExpired(t,this.oldCache.get(t)):!1}peek(t){if(this.cache.has(t))return this._peek(t,this.cache);if(this.oldCache.has(t))return this._peek(t,this.oldCache)}delete(t){let r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this._entriesAscending()],n=r.length-t;n<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(n>0&&this._emitEvictions(r.slice(0,n)),this.oldCache=new Map(r.slice(n)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache){let[r,n]=t;this._deleteIfExpired(r,n)===!1&&(yield[r,n.value])}for(let t of this.oldCache){let[r,n]=t;this.cache.has(r)||this._deleteIfExpired(r,n)===!1&&(yield[r,n.value])}}*entriesDescending(){let t=[...this.cache];for(let r=t.length-1;r>=0;--r){let n=t[r],[i,s]=n;this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}t=[...this.oldCache];for(let r=t.length-1;r>=0;--r){let n=t[r],[i,s]=n;this.cache.has(i)||this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}}*entriesAscending(){for(let[t,r]of this._entriesAscending())yield[t,r.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(let r of this.oldCache.keys())this.cache.has(r)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,r=this){for(let[n,i]of this.entriesAscending())t.call(r,i,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}},ts=(e,t)=>e.some(r=>typeof r=="string"?r===t:(r.lastIndex=0,r.test(t))),rt=new Fe({maxSize:1e5}),ir=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),sr=(e,t={})=>{if(!ir(e))return e;let{exclude:r,pascalCase:n=!1,stopPaths:i,deep:s=!1,preserveConsecutiveUppercase:o=!1}=t,a=new Set(i),c=u=>(g,m)=>{if(s&&ir(m)){let L=u===void 0?g:`${u}.${g}`;a.has(L)||(m=er(m,c(L)))}if(!(r&&ts(r,g))){let L=n?`${g}_`:g;if(rt.has(L))g=rt.get(L);else{let C=es(g,{pascalCase:n,locale:!1,preserveConsecutiveUppercase:o});g.length<100&&rt.set(L,C),g=C}}return[g,m]};return er(e,c(void 0))};function sn(e,t){return Array.isArray(e)?Object.keys(e).map(r=>sr(e[r],t)):sr(e,t)}function on(e){let t=0,r=e.length;for(;t<r&&(e[t]==="\r"||e[t]===`
`);)t++;for(;r>t&&(e[r-1]==="\r"||e[r-1]===`
`);)r--;return t>0||r<e.length?e.slice(t,r):e}function je(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rs=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((r,n)=>Math.min(r,n.length),1/0):0},ns=je(rs);function is(e){let t=ns(e);if(t===0)return e;let r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}function ss(e,t=1,r={}){let{indent:n=" ",includeEmptyLines:i=!1}=r;if(typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(t<0)throw new RangeError(`Expected \`count\` to be at least 0, got \`${t}\``);if(typeof n!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof n}\``);if(t===0)return e;let s=i?/^/gm:/^(?!\s*$)/gm;return e.replace(s,n.repeat(t))}function $t(e,t=0,r={}){return ss(is(e),t,r)}var os=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},an=os,as="2.0.0",cn=256,cs=Number.MAX_SAFE_INTEGER||9007199254740991,ls=16,us=cn-6,fs=["major","premajor","minor","preminor","patch","prepatch","prerelease"],ln={MAX_LENGTH:cn,MAX_SAFE_COMPONENT_LENGTH:ls,MAX_SAFE_BUILD_LENGTH:us,MAX_SAFE_INTEGER:cs,RELEASE_TYPES:fs,SEMVER_SPEC_VERSION:as,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},pt={exports:{}};(function(e,t){let{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=ln,s=an;t=e.exports={};let o=t.re=[],a=t.safeRe=[],c=t.src=[],u=t.t={},g=0,m="[a-zA-Z0-9-]",L=[["\\s",1],["\\d",i],[m,n]],C=p=>{for(let[l,y]of L)p=p.split(`${l}*`).join(`${l}{0,${y}}`).split(`${l}+`).join(`${l}{1,${y}}`);return p},v=(p,l,y)=>{let O=C(l),E=g++;s(p,E,l),u[p]=E,c[E]=l,o[E]=new RegExp(l,y?"g":void 0),a[E]=new RegExp(O,y?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),v("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER",`${m}+`),v("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),v("FULL",`^${c[u.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),v("LOOSE",`^${c[u.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),v("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),v("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),v("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),v("COERCERTL",c[u.COERCE],!0),v("COERCERTLFULL",c[u.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",v("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",v("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(pt,pt.exports);var hs=pt.exports,ps=Object.freeze({loose:!0}),ds=Object.freeze({}),gs=e=>e?typeof e!="object"?ps:e:ds,ms=gs,or=/^[0-9]+$/,un=(e,t)=>{let r=or.test(e),n=or.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},bs=(e,t)=>un(t,e),ys={compareIdentifiers:un,rcompareIdentifiers:bs},_e=an,{MAX_LENGTH:ar,MAX_SAFE_INTEGER:Ie}=ln,{safeRe:cr,t:lr}=hs,vs=ms,{compareIdentifiers:he}=ys,Es=class K{constructor(t,r){if(r=vs(r),t instanceof K){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ar)throw new TypeError(`version is longer than ${ar} characters`);_e("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?cr[lr.LOOSE]:cr[lr.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ie||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ie||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ie||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Ie)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(_e("SemVer.compare",this.version,this.options,t),!(t instanceof K)){if(typeof t=="string"&&t===this.version)return 0;t=new K(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof K||(t=new K(t,this.options)),he(this.major,t.major)||he(this.minor,t.minor)||he(this.patch,t.patch)}comparePre(t){if(t instanceof K||(t=new K(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(_e("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return he(n,i)}while(++r)}compareBuild(t){t instanceof K||(t=new K(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(_e("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return he(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),he(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}},ws=Es,ur=ws,Ls=(e,t,r=!1)=>{if(e instanceof ur)return e;try{return new ur(e,t)}catch(n){if(!r)return null;throw n}},fn=Ls,Cs=fn,As=(e,t)=>{let r=Cs(e,t);return r?r.version:null},Os=As,Ss=fn,Ps=(e,t)=>{let r=Ss(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},$s=Ps,hn=["0BSD","AAL","ADSL","AFL-1.1","AFL-1.2","AFL-2.0","AFL-2.1","AFL-3.0","AGPL-1.0-only","AGPL-1.0-or-later","AGPL-3.0-only","AGPL-3.0-or-later","AMDPLPA","AML","AMPAS","ANTLR-PD","ANTLR-PD-fallback","APAFML","APL-1.0","APSL-1.0","APSL-1.1","APSL-1.2","APSL-2.0","ASWF-Digital-Assets-1.0","ASWF-Digital-Assets-1.1","Abstyles","AdaCore-doc","Adobe-2006","Adobe-Glyph","Adobe-Utopia","Afmparse","Aladdin","Apache-1.0","Apache-1.1","Apache-2.0","App-s2p","Arphic-1999","Artistic-1.0","Artistic-1.0-Perl","Artistic-1.0-cl8","Artistic-2.0","BSD-1-Clause","BSD-2-Clause","BSD-2-Clause-Patent","BSD-2-Clause-Views","BSD-3-Clause","BSD-3-Clause-Attribution","BSD-3-Clause-Clear","BSD-3-Clause-HP","BSD-3-Clause-LBNL","BSD-3-Clause-Modification","BSD-3-Clause-No-Military-License","BSD-3-Clause-No-Nuclear-License","BSD-3-Clause-No-Nuclear-License-2014","BSD-3-Clause-No-Nuclear-Warranty","BSD-3-Clause-Open-MPI","BSD-3-Clause-Sun","BSD-3-Clause-flex","BSD-4-Clause","BSD-4-Clause-Shortened","BSD-4-Clause-UC","BSD-4.3RENO","BSD-4.3TAHOE","BSD-Advertising-Acknowledgement","BSD-Attribution-HPND-disclaimer","BSD-Inferno-Nettverk","BSD-Protection","BSD-Source-Code","BSD-Systemics","BSL-1.0","BUSL-1.1","Baekmuk","Bahyph","Barr","Beerware","BitTorrent-1.0","BitTorrent-1.1","Bitstream-Charter","Bitstream-Vera","BlueOak-1.0.0","Boehm-GC","Borceux","Brian-Gladman-3-Clause","C-UDA-1.0","CAL-1.0","CAL-1.0-Combined-Work-Exception","CATOSL-1.1","CC-BY-1.0","CC-BY-2.0","CC-BY-2.5","CC-BY-2.5-AU","CC-BY-3.0","CC-BY-3.0-AT","CC-BY-3.0-DE","CC-BY-3.0-IGO","CC-BY-3.0-NL","CC-BY-3.0-US","CC-BY-4.0","CC-BY-NC-1.0","CC-BY-NC-2.0","CC-BY-NC-2.5","CC-BY-NC-3.0","CC-BY-NC-3.0-DE","CC-BY-NC-4.0","CC-BY-NC-ND-1.0","CC-BY-NC-ND-2.0","CC-BY-NC-ND-2.5","CC-BY-NC-ND-3.0","CC-BY-NC-ND-3.0-DE","CC-BY-NC-ND-3.0-IGO","CC-BY-NC-ND-4.0","CC-BY-NC-SA-1.0","CC-BY-NC-SA-2.0","CC-BY-NC-SA-2.0-DE","CC-BY-NC-SA-2.0-FR","CC-BY-NC-SA-2.0-UK","CC-BY-NC-SA-2.5","CC-BY-NC-SA-3.0","CC-BY-NC-SA-3.0-DE","CC-BY-NC-SA-3.0-IGO","CC-BY-NC-SA-4.0","CC-BY-ND-1.0","CC-BY-ND-2.0","CC-BY-ND-2.5","CC-BY-ND-3.0","CC-BY-ND-3.0-DE","CC-BY-ND-4.0","CC-BY-SA-1.0","CC-BY-SA-2.0","CC-BY-SA-2.0-UK","CC-BY-SA-2.1-JP","CC-BY-SA-2.5","CC-BY-SA-3.0","CC-BY-SA-3.0-AT","CC-BY-SA-3.0-DE","CC-BY-SA-3.0-IGO","CC-BY-SA-4.0","CC-PDDC","CC0-1.0","CDDL-1.0","CDDL-1.1","CDL-1.0","CDLA-Permissive-1.0","CDLA-Permissive-2.0","CDLA-Sharing-1.0","CECILL-1.0","CECILL-1.1","CECILL-2.0","CECILL-2.1","CECILL-B","CECILL-C","CERN-OHL-1.1","CERN-OHL-1.2","CERN-OHL-P-2.0","CERN-OHL-S-2.0","CERN-OHL-W-2.0","CFITSIO","CMU-Mach","CNRI-Jython","CNRI-Python","CNRI-Python-GPL-Compatible","COIL-1.0","CPAL-1.0","CPL-1.0","CPOL-1.02","CUA-OPL-1.0","Caldera","ClArtistic","Clips","Community-Spec-1.0","Condor-1.1","Cornell-Lossless-JPEG","Cronyx","Crossword","CrystalStacker","Cube","D-FSL-1.0","DL-DE-BY-2.0","DL-DE-ZERO-2.0","DOC","DRL-1.0","DSDP","Dotseqn","ECL-1.0","ECL-2.0","EFL-1.0","EFL-2.0","EPICS","EPL-1.0","EPL-2.0","EUDatagrid","EUPL-1.0","EUPL-1.1","EUPL-1.2","Elastic-2.0","Entessa","ErlPL-1.1","Eurosym","FBM","FDK-AAC","FSFAP","FSFUL","FSFULLR","FSFULLRWD","FTL","Fair","Ferguson-Twofish","Frameworx-1.0","FreeBSD-DOC","FreeImage","Furuseth","GD","GFDL-1.1-invariants-only","GFDL-1.1-invariants-or-later","GFDL-1.1-no-invariants-only","GFDL-1.1-no-invariants-or-later","GFDL-1.1-only","GFDL-1.1-or-later","GFDL-1.2-invariants-only","GFDL-1.2-invariants-or-later","GFDL-1.2-no-invariants-only","GFDL-1.2-no-invariants-or-later","GFDL-1.2-only","GFDL-1.2-or-later","GFDL-1.3-invariants-only","GFDL-1.3-invariants-or-later","GFDL-1.3-no-invariants-only","GFDL-1.3-no-invariants-or-later","GFDL-1.3-only","GFDL-1.3-or-later","GL2PS","GLWTPL","GPL-1.0-only","GPL-1.0-or-later","GPL-2.0-only","GPL-2.0-or-later","GPL-3.0-only","GPL-3.0-or-later","Giftware","Glide","Glulxe","Graphics-Gems","HP-1986","HP-1989","HPND","HPND-DEC","HPND-Markus-Kuhn","HPND-Pbmplus","HPND-UC","HPND-doc","HPND-doc-sell","HPND-export-US","HPND-export-US-modify","HPND-sell-regexpr","HPND-sell-variant","HPND-sell-variant-MIT-disclaimer","HTMLTIDY","HaskellReport","Hippocratic-2.1","IBM-pibs","ICU","IEC-Code-Components-EULA","IJG","IJG-short","IPA","IPL-1.0","ISC","ImageMagick","Imlib2","Info-ZIP","Inner-Net-2.0","Intel","Intel-ACPI","Interbase-1.0","JPL-image","JPNIC","JSON","Jam","JasPer-2.0","Kastrup","Kazlib","Knuth-CTAN","LAL-1.2","LAL-1.3","LGPL-2.0-only","LGPL-2.0-or-later","LGPL-2.1-only","LGPL-2.1-or-later","LGPL-3.0-only","LGPL-3.0-or-later","LGPLLR","LOOP","LPL-1.0","LPL-1.02","LPPL-1.0","LPPL-1.1","LPPL-1.2","LPPL-1.3a","LPPL-1.3c","LZMA-SDK-9.11-to-9.20","LZMA-SDK-9.22","Latex2e","Latex2e-translated-notice","Leptonica","LiLiQ-P-1.1","LiLiQ-R-1.1","LiLiQ-Rplus-1.1","Libpng","Linux-OpenIB","Linux-man-pages-1-para","Linux-man-pages-copyleft","Linux-man-pages-copyleft-2-para","Linux-man-pages-copyleft-var","Lucida-Bitmap-Fonts","MIT","MIT-0","MIT-CMU","MIT-Festival","MIT-Modern-Variant","MIT-Wu","MIT-advertising","MIT-enna","MIT-feh","MIT-open-group","MIT-testregex","MITNFA","MMIXware","MPEG-SSG","MPL-1.0","MPL-1.1","MPL-2.0","MPL-2.0-no-copyleft-exception","MS-LPL","MS-PL","MS-RL","MTLL","MakeIndex","Martin-Birgmeier","McPhee-slideshow","Minpack","MirOS","Motosoto","MulanPSL-1.0","MulanPSL-2.0","Multics","Mup","NAIST-2003","NASA-1.3","NBPL-1.0","NCGL-UK-2.0","NCSA","NGPL","NICTA-1.0","NIST-PD","NIST-PD-fallback","NIST-Software","NLOD-1.0","NLOD-2.0","NLPL","NOSL","NPL-1.0","NPL-1.1","NPOSL-3.0","NRL","NTP","NTP-0","Naumen","Net-SNMP","NetCDF","Newsletr","Nokia","Noweb","O-UDA-1.0","OCCT-PL","OCLC-2.0","ODC-By-1.0","ODbL-1.0","OFFIS","OFL-1.0","OFL-1.0-RFN","OFL-1.0-no-RFN","OFL-1.1","OFL-1.1-RFN","OFL-1.1-no-RFN","OGC-1.0","OGDL-Taiwan-1.0","OGL-Canada-2.0","OGL-UK-1.0","OGL-UK-2.0","OGL-UK-3.0","OGTSL","OLDAP-1.1","OLDAP-1.2","OLDAP-1.3","OLDAP-1.4","OLDAP-2.0","OLDAP-2.0.1","OLDAP-2.1","OLDAP-2.2","OLDAP-2.2.1","OLDAP-2.2.2","OLDAP-2.3","OLDAP-2.4","OLDAP-2.5","OLDAP-2.6","OLDAP-2.7","OLDAP-2.8","OLFL-1.3","OML","OPL-1.0","OPL-UK-3.0","OPUBL-1.0","OSET-PL-2.1","OSL-1.0","OSL-1.1","OSL-2.0","OSL-2.1","OSL-3.0","OpenPBS-2.3","OpenSSL","PADL","PDDL-1.0","PHP-3.0","PHP-3.01","PSF-2.0","Parity-6.0.0","Parity-7.0.0","Plexus","PolyForm-Noncommercial-1.0.0","PolyForm-Small-Business-1.0.0","PostgreSQL","Python-2.0","Python-2.0.1","QPL-1.0","QPL-1.0-INRIA-2004","Qhull","RHeCos-1.1","RPL-1.1","RPL-1.5","RPSL-1.0","RSA-MD","RSCPL","Rdisc","Ruby","SAX-PD","SCEA","SGI-B-1.0","SGI-B-1.1","SGI-B-2.0","SGI-OpenGL","SGP4","SHL-0.5","SHL-0.51","SISSL","SISSL-1.2","SL","SMLNJ","SMPPL","SNIA","SPL-1.0","SSH-OpenSSH","SSH-short","SSPL-1.0","SWL","Saxpath","SchemeReport","Sendmail","Sendmail-8.23","SimPL-2.0","Sleepycat","Soundex","Spencer-86","Spencer-94","Spencer-99","SugarCRM-1.1.3","SunPro","Symlinks","TAPR-OHL-1.0","TCL","TCP-wrappers","TMate","TORQUE-1.1","TOSL","TPDL","TPL-1.0","TTWL","TTYP0","TU-Berlin-1.0","TU-Berlin-2.0","TermReadKey","UCAR","UCL-1.0","UPL-1.0","URT-RLE","Unicode-DFS-2015","Unicode-DFS-2016","Unicode-TOU","UnixCrypt","Unlicense","VOSTROM","VSL-1.0","Vim","W3C","W3C-19980720","W3C-20150513","WTFPL","Watcom-1.0","Widget-Workshop","Wsuipa","X11","X11-distribute-modifications-variant","XFree86-1.1","XSkat","Xdebug-1.03","Xerox","Xfig","Xnet","YPL-1.0","YPL-1.1","ZPL-1.1","ZPL-2.0","ZPL-2.1","Zed","Zeeff","Zend-2.0","Zimbra-1.3","Zimbra-1.4","Zlib","blessing","bzip2-1.0.6","check-cvs","checkmk","copyleft-next-0.3.0","copyleft-next-0.3.1","curl","diffmark","dtoa","dvipdfm","eGenix","etalab-2.0","fwlw","gSOAP-1.3b","gnuplot","iMatix","libpng-2.0","libselinux-1.0","libtiff","libutil-David-Nugent","lsof","magaz","metamail","mpi-permissive","mpich2","mplus","pnmstitch","psfrag","psutils","python-ldap","snprintf","ssh-keyscan","swrule","ulem","w3m","xinetd","xlock","xpp","zlib-acknowledgement"],_s=["AGPL-1.0","AGPL-3.0","BSD-2-Clause-FreeBSD","BSD-2-Clause-NetBSD","GFDL-1.1","GFDL-1.2","GFDL-1.3","GPL-1.0","GPL-1.0+","GPL-2.0","GPL-2.0+","GPL-2.0-with-GCC-exception","GPL-2.0-with-autoconf-exception","GPL-2.0-with-bison-exception","GPL-2.0-with-classpath-exception","GPL-2.0-with-font-exception","GPL-3.0","GPL-3.0+","GPL-3.0-with-GCC-exception","GPL-3.0-with-autoconf-exception","LGPL-2.0","LGPL-2.0+","LGPL-2.1","LGPL-2.1+","LGPL-3.0","LGPL-3.0+","Nunit","StandardML-NJ","bzip2-1.0.5","eCos-2.0","wxWindows"],Is=["389-exception","Asterisk-exception","Autoconf-exception-2.0","Autoconf-exception-3.0","Autoconf-exception-generic","Autoconf-exception-generic-3.0","Autoconf-exception-macro","Bison-exception-2.2","Bootloader-exception","Classpath-exception-2.0","CLISP-exception-2.0","cryptsetup-OpenSSL-exception","DigiRule-FOSS-exception","eCos-exception-2.0","Fawkes-Runtime-exception","FLTK-exception","Font-exception-2.0","freertos-exception-2.0","GCC-exception-2.0","GCC-exception-2.0-note","GCC-exception-3.1","GNAT-exception","GNU-compiler-exception","gnu-javamail-exception","GPL-3.0-interface-exception","GPL-3.0-linking-exception","GPL-3.0-linking-source-exception","GPL-CC-1.0","GStreamer-exception-2005","GStreamer-exception-2008","i2p-gpl-java-exception","KiCad-libraries-exception","LGPL-3.0-linking-exception","libpri-OpenH323-exception","Libtool-exception","Linux-syscall-note","LLGPL","LLVM-exception","LZMA-exception","mif-exception","OCaml-LGPL-linking-exception","OCCT-exception-1.0","OpenJDK-assembly-exception-1.0","openvpn-openssl-exception","PS-or-PDF-font-exception-20170817","QPL-1.0-INRIA-2004-exception","Qt-GPL-exception-1.0","Qt-LGPL-exception-1.1","Qwt-exception-1.0","SANE-exception","SHL-2.0","SHL-2.1","stunnel-exception","SWI-exception","Swift-exception","Texinfo-exception","u-boot-exception-2.0","UBDL-exception","Universal-FOSS-exception-1.0","vsftpd-openssl-exception","WxWindows-exception-3.1","x11vnc-openssl-exception"],Rs=[].concat(hn).concat(_s),Ns=Is,xs=function(e){var t=0;function r(){return t<e.length}function n(v){if(v instanceof RegExp){var p=e.slice(t),l=p.match(v);if(l)return t+=l[0].length,l[0]}else if(e.indexOf(v,t)===t)return t+=v.length,v}function i(){n(/[ ]*/)}function s(){for(var v,p=["WITH","AND","OR","(",")",":","+"],l=0;l<p.length&&(v=n(p[l]),!v);l++);if(v==="+"&&t>1&&e[t-2]===" ")throw new Error("Space before `+`");return v&&{type:"OPERATOR",string:v}}function o(){return n(/[A-Za-z0-9-.]+/)}function a(){var v=o();if(!v)throw new Error("Expected idstring at offset "+t);return v}function c(){if(n("DocumentRef-")){var v=a();return{type:"DOCUMENTREF",string:v}}}function u(){if(n("LicenseRef-")){var v=a();return{type:"LICENSEREF",string:v}}}function g(){var v=t,p=o();if(Rs.indexOf(p)!==-1)return{type:"LICENSE",string:p};if(Ns.indexOf(p)!==-1)return{type:"EXCEPTION",string:p};t=v}function m(){return s()||c()||u()||g()}for(var L=[];r()&&(i(),!!r());){var C=m();if(!C)throw new Error("Unexpected `"+e[t]+"` at offset "+t);L.push(C)}return L},Ds=function(e){var t=0;function r(){return t<e.length}function n(){return r()?e[t]:null}function i(){if(!r())throw new Error;t++}function s(p){var l=n();if(l&&l.type==="OPERATOR"&&p===l.string)return i(),l.string}function o(){if(s("WITH")){var p=n();if(p&&p.type==="EXCEPTION")return i(),p.string;throw new Error("Expected exception after `WITH`")}}function a(){var p=t,l="",y=n();if(y.type==="DOCUMENTREF"&&(i(),l+="DocumentRef-"+y.string+":",!s(":")))throw new Error("Expected `:` after `DocumentRef-...`");if(y=n(),y.type==="LICENSEREF")return i(),l+="LicenseRef-"+y.string,{license:l};t=p}function c(){var p=n();if(p&&p.type==="LICENSE"){i();var l={license:p.string};s("+")&&(l.plus=!0);var y=o();return y&&(l.exception=y),l}}function u(){var p=s("(");if(p){var l=C();if(!s(")"))throw new Error("Expected `)`");return l}}function g(){return u()||a()||c()}function m(p,l){return function y(){var O=l();if(O){if(!s(p))return O;var E=y();if(!E)throw new Error("Expected expression");return{left:O,conjunction:p.toLowerCase(),right:E}}}}var L=m("AND",g),C=m("OR",L),v=C();if(!v||r())throw new Error("Syntax error");return v},Fs=xs,Ts=Ds,pn=function(e){return Ts(Fs(e))},Gs=pn,Ms=hn;function xe(e){try{return Gs(e),!0}catch{return!1}}function dn(e,t){var r=t[0].length-e[0].length;return r!==0?r:e[0].toUpperCase().localeCompare(t[0].toUpperCase())}var fr=[["APGL","AGPL"],["Gpl","GPL"],["GLP","GPL"],["APL","Apache"],["ISD","ISC"],["GLP","GPL"],["IST","ISC"],["Claude","Clause"],[" or later","+"],[" International",""],["GNU","GPL"],["GUN","GPL"],["+",""],["GNU GPL","GPL"],["GNU LGPL","LGPL"],["GNU/GPL","GPL"],["GNU GLP","GPL"],["GNU LESSER GENERAL PUBLIC LICENSE","LGPL"],["GNU Lesser General Public License","LGPL"],["GNU LESSER GENERAL PUBLIC LICENSE","LGPL-2.1"],["GNU Lesser General Public License","LGPL-2.1"],["LESSER GENERAL PUBLIC LICENSE","LGPL"],["Lesser General Public License","LGPL"],["LESSER GENERAL PUBLIC LICENSE","LGPL-2.1"],["Lesser General Public License","LGPL-2.1"],["GNU General Public License","GPL"],["Gnu public license","GPL"],["GNU Public License","GPL"],["GNU GENERAL PUBLIC LICENSE","GPL"],["MTI","MIT"],["Mozilla Public License","MPL"],["Universal Permissive License","UPL"],["WTH","WTF"],["WTFGPL","WTFPL"],["-License",""]].sort(dn),js=0,Bs=1,hr=[function(e){return e.toUpperCase()},function(e){return e.trim()},function(e){return e.replace(/\./g,"")},function(e){return e.replace(/\s+/g,"")},function(e){return e.replace(/\s+/g,"-")},function(e){return e.replace("v","-")},function(e){return e.replace(/,?\s*(\d)/,"-$1")},function(e){return e.replace(/,?\s*(\d)/,"-$1.0")},function(e){return e.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2")},function(e){return e.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2.0")},function(e){return e[0].toUpperCase()+e.slice(1)},function(e){return e.replace("/","-")},function(e){return e.replace(/\s*V\s*(\d)/,"-$1").replace(/(\d)$/,"$1.0")},function(e){return e.indexOf("3.0")!==-1?e+"-or-later":e+"-only"},function(e){return e+"only"},function(e){return e.replace(/(\d)$/,"-$1.0")},function(e){return e.replace(/(-| )?(\d)$/,"-$2-Clause")},function(e){return e.replace(/(-| )clause(-| )(\d)/,"-$3-Clause")},function(e){return e.replace(/\b(Modified|New|Revised)(-| )?BSD((-| )License)?/i,"BSD-3-Clause")},function(e){return e.replace(/\bSimplified(-| )?BSD((-| )License)?/i,"BSD-2-Clause")},function(e){return e.replace(/\b(Free|Net)(-| )?BSD((-| )License)?/i,"BSD-2-Clause-$1BSD")},function(e){return e.replace(/\bClear(-| )?BSD((-| )License)?/i,"BSD-3-Clause-Clear")},function(e){return e.replace(/\b(Old|Original)(-| )?BSD((-| )License)?/i,"BSD-4-Clause")},function(e){return"CC-"+e},function(e){return"CC-"+e+"-4.0"},function(e){return e.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")},function(e){return"CC-"+e.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")+"-4.0"}],dt=Ms.map(function(e){var t=/^(.*)-\d+\.\d+$/.exec(e);return t?[t[0],t[1]]:[e,null]}).reduce(function(e,t){var r=t[1];return e[r]=e[r]||[],e[r].push(t[0]),e},{}),ks=Object.keys(dt).map(function(t){return[t,dt[t]]}).filter(function(t){return t[1].length===1&&t[0]!==null&&t[0]!=="APL"}).map(function(t){return[t[0],t[1][0]]});dt=void 0;var pr=[["UNLI","Unlicense"],["WTF","WTFPL"],["2 CLAUSE","BSD-2-Clause"],["2-CLAUSE","BSD-2-Clause"],["3 CLAUSE","BSD-3-Clause"],["3-CLAUSE","BSD-3-Clause"],["AFFERO","AGPL-3.0-or-later"],["AGPL","AGPL-3.0-or-later"],["APACHE","Apache-2.0"],["ARTISTIC","Artistic-2.0"],["Affero","AGPL-3.0-or-later"],["BEER","Beerware"],["BOOST","BSL-1.0"],["BSD","BSD-2-Clause"],["CDDL","CDDL-1.1"],["ECLIPSE","EPL-1.0"],["FUCK","WTFPL"],["GNU","GPL-3.0-or-later"],["LGPL","LGPL-3.0-or-later"],["GPLV1","GPL-1.0-only"],["GPL-1","GPL-1.0-only"],["GPLV2","GPL-2.0-only"],["GPL-2","GPL-2.0-only"],["GPL","GPL-3.0-or-later"],["MIT +NO-FALSE-ATTRIBS","MITNFA"],["MIT","MIT"],["MPL","MPL-2.0"],["X11","X11"],["ZLIB","Zlib"]].concat(ks).sort(dn),Us=0,Ws=1,dr=function(e){for(var t=0;t<hr.length;t++){var r=hr[t](e).trim();if(r!==e&&xe(r))return r}return null},gr=function(e){for(var t=e.toUpperCase(),r=0;r<pr.length;r++){var n=pr[r];if(t.indexOf(n[Us])>-1)return n[Ws]}return null},mr=function(e,t){for(var r=0;r<fr.length;r++){var n=fr[r],i=n[js];if(e.indexOf(i)>-1){var s=e.replace(i,n[Bs]),o=t(s);if(o!==null)return o}}return null},zs=function(e,t){t=t||{};var r=t.upgrade===void 0?!0:!!t.upgrade;function n(a){return r?Hs(a):a}var i=typeof e=="string"&&e.trim().length!==0;if(!i)throw Error("Invalid argument. Expected non-empty string.");if(e=e.trim(),xe(e))return n(e);var s=e.replace(/\+$/,"").trim();if(xe(s))return n(s);var o=dr(e);return o!==null||(o=mr(e,function(a){return xe(a)?a:dr(a)}),o!==null)||(o=gr(e),o!==null)||(o=mr(e,gr),o!==null)?n(o):null};function Hs(e){return["GPL-1.0","LGPL-1.0","AGPL-1.0","GPL-2.0","LGPL-2.0","AGPL-2.0","LGPL-2.1"].indexOf(e)!==-1?e+"-only":["GPL-1.0+","GPL-2.0+","GPL-3.0+","LGPL-2.0+","LGPL-2.1+","LGPL-3.0+","AGPL-1.0+","AGPL-3.0+"].indexOf(e)!==-1?e.replace(/\+$/,"-or-later"):["GPL-3.0","LGPL-3.0","AGPL-3.0"].indexOf(e)!==-1?e+"-or-later":e}var Ys=pn,Vs=zs,br='license should be a valid SPDX license expression (without "LicenseRef"), "UNLICENSED", or "SEE LICENSE IN <filename>"',Ks=/^SEE LICEN[CS]E IN (.+)$/;function yr(e,t){return t.slice(0,e.length)===e}function gt(e){if(e.hasOwnProperty("license")){var t=e.license;return yr("LicenseRef",t)||yr("DocumentRef",t)}else return gt(e.left)||gt(e.right)}var Xs=function(e){var t;try{t=Ys(e)}catch{var r;if(e==="UNLICENSED"||e==="UNLICENCED")return{validForOldPackages:!0,validForNewPackages:!0,unlicensed:!0};if(r=Ks.exec(e))return{validForOldPackages:!0,validForNewPackages:!0,inFile:r[1]};var n={validForOldPackages:!1,validForNewPackages:!1,warnings:[br]};if(e.trim().length!==0){var i=Vs(e);i&&n.warnings.push('license is similar to the valid expression "'+i+'"')}return n}return gt(t)?{validForNewPackages:!1,validForOldPackages:!1,spdx:!0,warnings:[br]}:{validForNewPackages:!0,validForOldPackages:!0,spdx:!0}},Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.LRUCache=void 0;var pe=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,gn=new Set,mt=typeof process=="object"&&process?process:{},mn=(e,t,r,n)=>{typeof mt.emitWarning=="function"?mt.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)},Te=globalThis.AbortController,vr=globalThis.AbortSignal;if(typeof Te>"u"){vr=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},Te=class{constructor(){t()}signal=new vr;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let e=mt.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,mn("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var qs=e=>!gn.has(e),Q=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),bn=e=>Q(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?ge:null:null,ge=class extends Array{constructor(t){super(t),this.fill(0)}},bt=class e{heap;length;static#n=!1;static create(t){let r=bn(t);if(!r)return[];e.#n=!0;let n=new e(t,r);return e.#n=!1,n}constructor(t,r){if(!e.#n)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},Js=class yn{#n;#l;#t;#m;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#b;#s;#i;#e;#f;#p;#u;#a;#y;#c;#v;#E;#d;#w;#O;#h;static unsafeExposeInternals(t){return{starts:t.#E,ttls:t.#d,sizes:t.#v,keyMap:t.#s,keyList:t.#i,valList:t.#e,next:t.#f,prev:t.#p,get head(){return t.#u},get tail(){return t.#a},free:t.#y,isBackgroundFetch:r=>t.#r(r),backgroundFetch:(r,n,i,s)=>t.#N(r,n,i,s),moveToTail:r=>t.#$(r),indexes:r=>t.#L(r),rindexes:r=>t.#C(r),isStale:r=>t.#g(r)}}get max(){return this.#n}get maxSize(){return this.#l}get calculatedSize(){return this.#b}get size(){return this.#o}get fetchMethod(){return this.#_}get dispose(){return this.#t}get disposeAfter(){return this.#m}constructor(t){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:c,dispose:u,disposeAfter:g,noDisposeOnSet:m,noUpdateTTL:L,maxSize:C=0,maxEntrySize:v=0,sizeCalculation:p,fetchMethod:l,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:O,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:I,ignoreFetchAbort:R}=t;if(r!==0&&!Q(r))throw new TypeError("max option must be a nonnegative integer");let k=r?bn(r):Array;if(!k)throw new Error("invalid max value: "+r);if(this.#n=r,this.#l=C,this.maxEntrySize=v||this.#l,this.sizeCalculation=p,this.sizeCalculation){if(!this.#l&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(l!==void 0&&typeof l!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#_=l,this.#O=!!l,this.#s=new Map,this.#i=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#f=new k(r),this.#p=new k(r),this.#u=0,this.#a=0,this.#y=bt.create(r),this.#o=0,this.#b=0,typeof u=="function"&&(this.#t=u),typeof g=="function"?(this.#m=g,this.#c=[]):(this.#m=void 0,this.#c=void 0),this.#w=!!this.#t,this.#h=!!this.#m,this.noDisposeOnSet=!!m,this.noUpdateTTL=!!L,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!I,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(this.#l!==0&&!Q(this.#l))throw new TypeError("maxSize must be a positive integer if specified");if(!Q(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#M()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!O,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Q(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Q(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#x()}if(this.#n===0&&this.ttl===0&&this.#l===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#n&&!this.#l){let U="LRU_CACHE_UNBOUNDED";qs(U)&&(gn.add(U),mn("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",U,yn))}}getRemainingTTL(t){return this.#s.has(t)?1/0:0}#x(){let t=new ge(this.#n),r=new ge(this.#n);this.#d=t,this.#E=r,this.#D=(s,o,a=pe.now())=>{if(r[s]=o!==0?a:0,t[s]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.#g(s)&&this.delete(this.#i[s])},o+1);c.unref&&c.unref()}},this.#S=s=>{r[s]=t[s]!==0?pe.now():0},this.#A=(s,o)=>{if(t[o]){let a=t[o],c=r[o];if(!a||!c)return;s.ttl=a,s.start=c,s.now=n||i();let u=s.now-c;s.remainingTTL=a-u}};let n=0,i=()=>{let s=pe.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#s.get(s);if(o===void 0)return 0;let a=t[o],c=r[o];if(!a||!c)return 1/0;let u=(n||i())-c;return a-u},this.#g=s=>{let o=r[s],a=t[s];return!!a&&!!o&&(n||i())-o>a}}#S=()=>{};#A=()=>{};#D=()=>{};#g=()=>!1;#M(){let t=new ge(this.#n);this.#b=0,this.#v=t,this.#P=r=>{this.#b-=t[r],t[r]=0},this.#F=(r,n,i,s)=>{if(this.#r(n))return 0;if(!Q(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!Q(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#I=(r,n,i)=>{if(t[r]=n,this.#l){let s=this.#l-t[r];for(;this.#b>s;)this.#R(!0)}this.#b+=t[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#b)}}#P=t=>{};#I=(t,r,n)=>{};#F=(t,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#L({allowStale:t=this.allowStale}={}){if(this.#o)for(let r=this.#a;!(!this.#T(r)||((t||!this.#g(r))&&(yield r),r===this.#u));)r=this.#p[r]}*#C({allowStale:t=this.allowStale}={}){if(this.#o)for(let r=this.#u;!(!this.#T(r)||((t||!this.#g(r))&&(yield r),r===this.#a));)r=this.#f[r]}#T(t){return t!==void 0&&this.#s.get(this.#i[t])===t}*entries(){for(let t of this.#L())this.#e[t]!==void 0&&this.#i[t]!==void 0&&!this.#r(this.#e[t])&&(yield[this.#i[t],this.#e[t]])}*rentries(){for(let t of this.#C())this.#e[t]!==void 0&&this.#i[t]!==void 0&&!this.#r(this.#e[t])&&(yield[this.#i[t],this.#e[t]])}*keys(){for(let t of this.#L()){let r=this.#i[t];r!==void 0&&!this.#r(this.#e[t])&&(yield r)}}*rkeys(){for(let t of this.#C()){let r=this.#i[t];r!==void 0&&!this.#r(this.#e[t])&&(yield r)}}*values(){for(let t of this.#L())this.#e[t]!==void 0&&!this.#r(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(let t of this.#C())this.#e[t]!==void 0&&!this.#r(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,r={}){for(let n of this.#L()){let i=this.#e[n],s=this.#r(i)?i.__staleWhileFetching:i;if(s!==void 0&&t(s,this.#i[n],this))return this.get(this.#i[n],r)}}forEach(t,r=this){for(let n of this.#L()){let i=this.#e[n],s=this.#r(i)?i.__staleWhileFetching:i;s!==void 0&&t.call(r,s,this.#i[n],this)}}rforEach(t,r=this){for(let n of this.#C()){let i=this.#e[n],s=this.#r(i)?i.__staleWhileFetching:i;s!==void 0&&t.call(r,s,this.#i[n],this)}}purgeStale(){let t=!1;for(let r of this.#C({allowStale:!0}))this.#g(r)&&(this.delete(this.#i[r]),t=!0);return t}info(t){let r=this.#s.get(t);if(r===void 0)return;let n=this.#e[r],i=this.#r(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#d&&this.#E){let o=this.#d[r],a=this.#E[r];if(o&&a){let c=o-(pe.now()-a);s.ttl=c,s.start=Date.now()}}return this.#v&&(s.size=this.#v[r]),s}dump(){let t=[];for(let r of this.#L({allowStale:!0})){let n=this.#i[r],i=this.#e[r],s=this.#r(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#d&&this.#E){o.ttl=this.#d[r];let a=pe.now()-this.#E[r];o.start=Math.floor(Date.now()-a)}this.#v&&(o.size=this.#v[r]),t.unshift([n,o])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=pe.now()-i}this.set(r,n.value,n)}}set(t,r,n={}){if(r===void 0)return this.delete(t),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=n,{noUpdateTTL:u=this.noUpdateTTL}=n,g=this.#F(t,r,n.size||0,a);if(this.maxEntrySize&&g>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let m=this.#o===0?void 0:this.#s.get(t);if(m===void 0)m=this.#o===0?this.#a:this.#y.length!==0?this.#y.pop():this.#o===this.#n?this.#R(!1):this.#o,this.#i[m]=t,this.#e[m]=r,this.#s.set(t,m),this.#f[this.#a]=m,this.#p[m]=this.#a,this.#a=m,this.#o++,this.#I(m,g,c),c&&(c.set="add"),u=!1;else{this.#$(m);let L=this.#e[m];if(r!==L){if(this.#O&&this.#r(L)){L.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:C}=L;C!==void 0&&!o&&(this.#w&&this.#t?.(C,t,"set"),this.#h&&this.#c?.push([C,t,"set"]))}else o||(this.#w&&this.#t?.(L,t,"set"),this.#h&&this.#c?.push([L,t,"set"]));if(this.#P(m),this.#I(m,g,c),this.#e[m]=r,c){c.set="replace";let C=L&&this.#r(L)?L.__staleWhileFetching:L;C!==void 0&&(c.oldValue=C)}}else c&&(c.set="update")}if(i!==0&&!this.#d&&this.#x(),this.#d&&(u||this.#D(m,i,s),c&&this.#A(c,m)),!o&&this.#h&&this.#c){let L=this.#c,C;for(;C=L?.shift();)this.#m?.(...C)}return this}pop(){try{for(;this.#o;){let t=this.#e[this.#u];if(this.#R(!0),this.#r(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#h&&this.#c){let t=this.#c,r;for(;r=t?.shift();)this.#m?.(...r)}}}#R(t){let r=this.#u,n=this.#i[r],i=this.#e[r];return this.#O&&this.#r(i)?i.__abortController.abort(new Error("evicted")):(this.#w||this.#h)&&(this.#w&&this.#t?.(i,n,"evict"),this.#h&&this.#c?.push([i,n,"evict"])),this.#P(r),t&&(this.#i[r]=void 0,this.#e[r]=void 0,this.#y.push(r)),this.#o===1?(this.#u=this.#a=0,this.#y.length=0):this.#u=this.#f[r],this.#s.delete(n),this.#o--,r}has(t,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#s.get(t);if(s!==void 0){let o=this.#e[s];if(this.#r(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#g(s))i&&(i.has="stale",this.#A(i,s));else return n&&this.#S(s),i&&(i.has="hit",this.#A(i,s)),!0}else i&&(i.has="miss");return!1}peek(t,r={}){let{allowStale:n=this.allowStale}=r,i=this.#s.get(t);if(i===void 0||!n&&this.#g(i))return;let s=this.#e[i];return this.#r(s)?s.__staleWhileFetching:s}#N(t,r,n,i){let s=r===void 0?void 0:this.#e[r];if(this.#r(s))return s;let o=new Te,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let c={signal:o.signal,options:n,context:i},u=(p,l=!1)=>{let{aborted:y}=o.signal,O=n.ignoreFetchAbort&&p!==void 0;if(n.status&&(y&&!l?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,O&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),y&&!O&&!l)return m(o.signal.reason);let E=C;return this.#e[r]===C&&(p===void 0?E.__staleWhileFetching?this.#e[r]=E.__staleWhileFetching:this.delete(t):(n.status&&(n.status.fetchUpdated=!0),this.set(t,p,c.options))),p},g=p=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=p),m(p)),m=p=>{let{aborted:l}=o.signal,y=l&&n.allowStaleOnFetchAbort,O=y||n.allowStaleOnFetchRejection,E=O||n.noDeleteOnFetchRejection,I=C;if(this.#e[r]===C&&(!E||I.__staleWhileFetching===void 0?this.delete(t):y||(this.#e[r]=I.__staleWhileFetching)),O)return n.status&&I.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),I.__staleWhileFetching;if(I.__returned===I)throw p},L=(p,l)=>{let y=this.#_?.(t,s,c);y&&y instanceof Promise&&y.then(O=>p(O===void 0?void 0:O),l),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(p(void 0),n.allowStaleOnFetchAbort&&(p=O=>u(O,!0)))})};n.status&&(n.status.fetchDispatched=!0);let C=new Promise(L).then(u,g),v=Object.assign(C,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(t,v,{...c.options,status:void 0}),r=this.#s.get(t)):this.#e[r]=v,v}#r(t){if(!this.#O)return!1;let r=t;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Te}async fetch(t,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:g=this.noUpdateTTL,noDeleteOnFetchRejection:m=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:L=this.allowStaleOnFetchRejection,ignoreFetchAbort:C=this.ignoreFetchAbort,allowStaleOnFetchAbort:v=this.allowStaleOnFetchAbort,context:p,forceRefresh:l=!1,status:y,signal:O}=r;if(!this.#O)return y&&(y.fetch="get"),this.get(t,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:y});let E={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:c,sizeCalculation:u,noUpdateTTL:g,noDeleteOnFetchRejection:m,allowStaleOnFetchRejection:L,allowStaleOnFetchAbort:v,ignoreFetchAbort:C,status:y,signal:O},I=this.#s.get(t);if(I===void 0){y&&(y.fetch="miss");let R=this.#N(t,I,E,p);return R.__returned=R}else{let R=this.#e[I];if(this.#r(R)){let x=n&&R.__staleWhileFetching!==void 0;return y&&(y.fetch="inflight",x&&(y.returnedStale=!0)),x?R.__staleWhileFetching:R.__returned=R}let k=this.#g(I);if(!l&&!k)return y&&(y.fetch="hit"),this.#$(I),i&&this.#S(I),y&&this.#A(y,I),R;let U=this.#N(t,I,E,p),ie=U.__staleWhileFetching!==void 0&&n;return y&&(y.fetch=k?"stale":"refresh",ie&&k&&(y.returnedStale=!0)),ie?U.__staleWhileFetching:U.__returned=U}}get(t,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#s.get(t);if(a!==void 0){let c=this.#e[a],u=this.#r(c);return o&&this.#A(o,a),this.#g(a)?(o&&(o.get="stale"),u?(o&&n&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?c.__staleWhileFetching:void 0):(s||this.delete(t),o&&n&&(o.returnedStale=!0),n?c:void 0)):(o&&(o.get="hit"),u?c.__staleWhileFetching:(this.#$(a),i&&this.#S(a),c))}else o&&(o.get="miss")}#G(t,r){this.#p[r]=t,this.#f[t]=r}#$(t){t!==this.#a&&(t===this.#u?this.#u=this.#f[t]:this.#G(this.#p[t],this.#f[t]),this.#G(this.#a,t),this.#a=t)}delete(t){let r=!1;if(this.#o!==0){let n=this.#s.get(t);if(n!==void 0)if(r=!0,this.#o===1)this.clear();else{this.#P(n);let i=this.#e[n];if(this.#r(i)?i.__abortController.abort(new Error("deleted")):(this.#w||this.#h)&&(this.#w&&this.#t?.(i,t,"delete"),this.#h&&this.#c?.push([i,t,"delete"])),this.#s.delete(t),this.#i[n]=void 0,this.#e[n]=void 0,n===this.#a)this.#a=this.#p[n];else if(n===this.#u)this.#u=this.#f[n];else{let s=this.#p[n];this.#f[s]=this.#f[n];let o=this.#f[n];this.#p[o]=this.#p[n]}this.#o--,this.#y.push(n)}}if(this.#h&&this.#c?.length){let n=this.#c,i;for(;i=n?.shift();)this.#m?.(...i)}return r}clear(){for(let t of this.#C({allowStale:!0})){let r=this.#e[t];if(this.#r(r))r.__abortController.abort(new Error("deleted"));else{let n=this.#i[t];this.#w&&this.#t?.(r,n,"delete"),this.#h&&this.#c?.push([r,n,"delete"])}}if(this.#s.clear(),this.#e.fill(void 0),this.#i.fill(void 0),this.#d&&this.#E&&(this.#d.fill(0),this.#E.fill(0)),this.#v&&this.#v.fill(0),this.#u=0,this.#a=0,this.#y.length=0,this.#b=0,this.#o=0,this.#h&&this.#c){let t=this.#c,r;for(;r=t?.shift();)this.#m?.(...r)}}};Be.LRUCache=Js;var N=(...e)=>e.every(t=>t)?e.join(""):"",D=e=>e?encodeURIComponent(e):"",vn=e=>e.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),Zs={sshtemplate:({domain:e,user:t,project:r,committish:n})=>`git@${e}:${t}/${r}.git${N("#",n)}`,sshurltemplate:({domain:e,user:t,project:r,committish:n})=>`git+ssh://git@${e}/${t}/${r}.git${N("#",n)}`,edittemplate:({domain:e,user:t,project:r,committish:n,editpath:i,path:s})=>`https://${e}/${t}/${r}${N("/",i,"/",D(n||"HEAD"),"/",s)}`,browsetemplate:({domain:e,user:t,project:r,committish:n,treepath:i})=>`https://${e}/${t}/${r}${N("/",i,"/",D(n))}`,browsetreetemplate:({domain:e,user:t,project:r,committish:n,treepath:i,path:s,fragment:o,hashformat:a})=>`https://${e}/${t}/${r}/${i}/${D(n||"HEAD")}/${s}${N("#",a(o||""))}`,browseblobtemplate:({domain:e,user:t,project:r,committish:n,blobpath:i,path:s,fragment:o,hashformat:a})=>`https://${e}/${t}/${r}/${i}/${D(n||"HEAD")}/${s}${N("#",a(o||""))}`,docstemplate:({domain:e,user:t,project:r,treepath:n,committish:i})=>`https://${e}/${t}/${r}${N("/",n,"/",D(i))}#readme`,httpstemplate:({auth:e,domain:t,user:r,project:n,committish:i})=>`git+https://${N(e,"@")}${t}/${r}/${n}.git${N("#",i)}`,filetemplate:({domain:e,user:t,project:r,committish:n,path:i})=>`https://${e}/${t}/${r}/raw/${D(n||"HEAD")}/${i}`,shortcuttemplate:({type:e,user:t,project:r,committish:n})=>`${e}:${t}/${r}${N("#",n)}`,pathtemplate:({user:e,project:t,committish:r})=>`${e}/${t}${N("#",r)}`,bugstemplate:({domain:e,user:t,project:r})=>`https://${e}/${t}/${r}/issues`,hashformat:vn},re={};re.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:e,user:t,project:r,committish:n,path:i})=>`https://${N(e,"@")}raw.githubusercontent.com/${t}/${r}/${D(n||"HEAD")}/${i}`,gittemplate:({auth:e,domain:t,user:r,project:n,committish:i})=>`git://${N(e,"@")}${t}/${r}/${n}.git${N("#",i)}`,tarballtemplate:({domain:e,user:t,project:r,committish:n})=>`https://codeload.${e}/${t}/${r}/tar.gz/${D(n||"HEAD")}`,extract:e=>{let[,t,r,n,i]=e.pathname.split("/",5);if(!(n&&n!=="tree")&&(n||(i=e.hash.slice(1)),r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!t||!r)))return{user:t,project:r,committish:i}}};re.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:e,user:t,project:r,committish:n,treepath:i,path:s,editpath:o})=>`https://${e}/${t}/${r}${N("/",i,"/",D(n||"HEAD"),"/",s,o)}`,tarballtemplate:({domain:e,user:t,project:r,committish:n})=>`https://${e}/${t}/${r}/get/${D(n||"HEAD")}.tar.gz`,extract:e=>{let[,t,r,n]=e.pathname.split("/",4);if(!["get"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!t||!r)))return{user:t,project:r,committish:e.hash.slice(1)}}};re.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:e,domain:t,user:r,project:n,committish:i})=>`git+https://${N(e,"@")}${t}/${r}/${n}.git${N("#",i)}`,tarballtemplate:({domain:e,user:t,project:r,committish:n})=>`https://${e}/${t}/${r}/repository/archive.tar.gz?ref=${D(n||"HEAD")}`,extract:e=>{let t=e.pathname.slice(1);if(t.includes("/-/")||t.includes("/archive.tar.gz"))return;let r=t.split("/"),n=r.pop();n.endsWith(".git")&&(n=n.slice(0,-4));let i=r.join("/");if(!(!i||!n))return{user:i,project:n,committish:e.hash.slice(1)}}};re.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:e,project:t,committish:r})=>`git@${e}:${t}.git${N("#",r)}`,sshurltemplate:({domain:e,project:t,committish:r})=>`git+ssh://git@${e}/${t}.git${N("#",r)}`,edittemplate:({domain:e,user:t,project:r,committish:n,editpath:i})=>`https://${e}/${t}/${r}${N("/",D(n))}/${i}`,browsetemplate:({domain:e,project:t,committish:r})=>`https://${e}/${t}${N("/",D(r))}`,browsetreetemplate:({domain:e,project:t,committish:r,path:n,hashformat:i})=>`https://${e}/${t}${N("/",D(r))}${N("#",i(n))}`,browseblobtemplate:({domain:e,project:t,committish:r,path:n,hashformat:i})=>`https://${e}/${t}${N("/",D(r))}${N("#",i(n))}`,docstemplate:({domain:e,project:t,committish:r})=>`https://${e}/${t}${N("/",D(r))}`,httpstemplate:({domain:e,project:t,committish:r})=>`git+https://${e}/${t}.git${N("#",r)}`,filetemplate:({user:e,project:t,committish:r,path:n})=>`https://gist.githubusercontent.com/${e}/${t}/raw${N("/",D(r))}/${n}`,shortcuttemplate:({type:e,project:t,committish:r})=>`${e}:${t}${N("#",r)}`,pathtemplate:({project:e,committish:t})=>`${e}${N("#",t)}`,bugstemplate:({domain:e,project:t})=>`https://${e}/${t}`,gittemplate:({domain:e,project:t,committish:r})=>`git://${e}/${t}.git${N("#",r)}`,tarballtemplate:({project:e,committish:t})=>`https://codeload.github.com/gist/${e}/tar.gz/${D(t||"HEAD")}`,extract:e=>{let[,t,r,n]=e.pathname.split("/",4);if(n!=="raw"){if(!r){if(!t)return;r=t,t=null}return r.endsWith(".git")&&(r=r.slice(0,-4)),{user:t,project:r,committish:e.hash.slice(1)}}},hashformat:function(e){return e&&"file-"+vn(e)}};re.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:e,user:t,project:r,committish:n,path:i})=>`https://${e}/${t}/${r}/blob/${D(n)||"HEAD"}/${i}`,httpstemplate:({domain:e,user:t,project:r,committish:n})=>`https://${e}/${t}/${r}.git${N("#",n)}`,tarballtemplate:({domain:e,user:t,project:r,committish:n})=>`https://${e}/${t}/${r}/archive/${D(n)||"HEAD"}.tar.gz`,bugstemplate:({user:e,project:t})=>null,extract:e=>{let[,t,r,n]=e.pathname.split("/",4);if(!["archive"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!t||!r)))return{user:t,project:r,committish:e.hash.slice(1)}}};for(let[e,t]of Object.entries(re))re[e]=Object.assign({},Zs,t);var Qs=re,eo=Zr,nt=(e,t,r)=>{let n=e.indexOf(r);return e.lastIndexOf(t,n>-1?n:1/0)},Er=e=>{try{return new eo.URL(e)}catch{}},to=(e,t)=>{let r=e.indexOf(":"),n=e.slice(0,r+1);if(Object.prototype.hasOwnProperty.call(t,n))return e;let i=e.indexOf("@");return i>-1?i>r?`git+ssh://${e}`:e:e.indexOf("//")===r+1?e:`${e.slice(0,r+1)}//${e.slice(r+1)}`},ro=e=>{let t=nt(e,"@","#"),r=nt(e,":","#");return r>t&&(e=e.slice(0,r)+"/"+e.slice(r+1)),nt(e,":","#")===-1&&e.indexOf("//")===-1&&(e=`git+ssh://${e}`),e},En=(e,t)=>{let r=t?to(e,t):e;return Er(r)||Er(ro(r))},no=En,io=e=>{let t=e.indexOf("#"),r=e.indexOf("/"),n=e.indexOf("/",r+1),i=e.indexOf(":"),s=/\s/.exec(e),o=e.indexOf("@"),a=!s||t>-1&&s.index>t,c=o===-1||t>-1&&o>t,u=i===-1||t>-1&&i>t,g=n===-1||t>-1&&n>t,m=r>0,L=t>-1?e[t-1]!=="/":!e.endsWith("/"),C=!e.startsWith(".");return a&&m&&L&&C&&c&&u&&g},so=(e,t,{gitHosts:r,protocols:n})=>{if(!e)return;let i=io(e)?`github:${e}`:e,s=no(i,n);if(!s)return;let o=r.byShortcut[s.protocol],a=r.byDomain[s.hostname.startsWith("www.")?s.hostname.slice(4):s.hostname],c=o||a;if(!c)return;let u=r[o||a],g=null;n[s.protocol]?.auth&&(s.username||s.password)&&(g=`${s.username}${s.password?":"+s.password:""}`);let m=null,L=null,C=null,v=null;try{if(o){let p=s.pathname.startsWith("/")?s.pathname.slice(1):s.pathname,l=p.indexOf("@");l>-1&&(p=p.slice(l+1));let y=p.lastIndexOf("/");y>-1?(L=decodeURIComponent(p.slice(0,y)),L||(L=null),C=decodeURIComponent(p.slice(y+1))):C=decodeURIComponent(p),C.endsWith(".git")&&(C=C.slice(0,-4)),s.hash&&(m=decodeURIComponent(s.hash.slice(1))),v="shortcut"}else{if(!u.protocols.includes(s.protocol))return;let p=u.extract(s);if(!p)return;L=p.user&&decodeURIComponent(p.user),C=decodeURIComponent(p.project),m=decodeURIComponent(p.committish),v=n[s.protocol]?.name||s.protocol.slice(0,-1)}}catch(p){if(p instanceof URIError)return;throw p}return[c,L,g,C,m,v,t]},{LRUCache:oo}=Be,ao=Qs,co=so,lo=En,it=new oo({max:1e3}),Ge=class e{constructor(t,r,n,i,s,o,a={}){Object.assign(this,e.#n[t],{type:t,user:r,auth:n,project:i,committish:s,default:o,opts:a})}static#n={byShortcut:{},byDomain:{}};static#l={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}};static addHost(t,r){e.#n[t]=r,e.#n.byDomain[r.domain]=t,e.#n.byShortcut[`${t}:`]=t,e.#l[`${t}:`]={name:t}}static fromUrl(t,r){if(typeof t!="string")return;let n=t+JSON.stringify(r||{});if(!it.has(n)){let i=co(t,r,{gitHosts:e.#n,protocols:e.#l});it.set(n,i?new e(...i):void 0)}return it.get(n)}static parseUrl(t){return lo(t)}#t(t,r){if(typeof t!="function")return null;let n={...this,...this.opts,...r};n.path||(n.path=""),n.path.startsWith("/")&&(n.path=n.path.slice(1)),n.noCommittish&&(n.committish=null);let i=t(n);return n.noGitPlus&&i.startsWith("git+")?i.slice(4):i}hash(){return this.committish?`#${this.committish}`:""}ssh(t){return this.#t(this.sshtemplate,t)}sshurl(t){return this.#t(this.sshurltemplate,t)}browse(t,...r){return typeof t!="string"?this.#t(this.browsetemplate,t):typeof r[0]!="string"?this.#t(this.browsetreetemplate,{...r[0],path:t}):this.#t(this.browsetreetemplate,{...r[1],fragment:r[0],path:t})}browseFile(t,...r){return typeof r[0]!="string"?this.#t(this.browseblobtemplate,{...r[0],path:t}):this.#t(this.browseblobtemplate,{...r[1],fragment:r[0],path:t})}docs(t){return this.#t(this.docstemplate,t)}bugs(t){return this.#t(this.bugstemplate,t)}https(t){return this.#t(this.httpstemplate,t)}git(t){return this.#t(this.gittemplate,t)}shortcut(t){return this.#t(this.shortcuttemplate,t)}path(t){return this.#t(this.pathtemplate,t)}tarball(t){return this.#t(this.tarballtemplate,{...t,noCommittish:!1})}file(t,r){return this.#t(this.filetemplate,{...r,path:t})}edit(t,r){return this.#t(this.edittemplate,{...r,path:t})}getDefaultRepresentation(){return this.default}toString(t){return this.default&&typeof this[this.default]=="function"?this[this.default](t):this.sshurl(t)}};for(let[e,t]of Object.entries(ao))Ge.addHost(e,t);var uo=Ge,fo="Function.prototype.bind called on incompatible ",ho=Object.prototype.toString,po=Math.max,go="[object Function]",wr=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},mo=function(t,r){for(var n=[],i=r||0,s=0;i<t.length;i+=1,s+=1)n[s]=t[i];return n},bo=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},yo=function(t){var r=this;if(typeof r!="function"||ho.apply(r)!==go)throw new TypeError(fo+r);for(var n=mo(arguments,1),i,s=function(){if(this instanceof i){var g=r.apply(this,wr(n,arguments));return Object(g)===g?g:this}return r.apply(t,wr(n,arguments))},o=po(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+bo(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},vo=yo,Eo=Function.prototype.bind||vo,wo=Function.prototype.call,Lo=Object.prototype.hasOwnProperty,Co=Eo,Ao=Co.call(wo,Lo),Oo=!0,So=">= 8",Po=">= 0.5 && < 0.9.7",$o=!0,_o=!0,Io=">= 0.5",Ro=!0,No=!0,xo=!0,Do=">= 1 && < 8",Fo="< 8",To=!0,Go=[">= 14.17 && < 15",">= 15.1"],Mo=!0,jo=">= 0.7.12",Bo=!0,ko="< 6",Uo=!0,Wo=">= 0.11.1",zo=">= 0.11.1",Ho=">= 0.11.1",Yo=">= 0.11.1",Vo=">= 0.11.1",Ko=">= 0.11.1",Xo=!0,qo=">= 8.8",Jo=!0,Zo=">= 8",Qo="< 8",ea=!0,ta=!0,ra=!0,na=!0,ia=">= 8.5",sa=">= 1",oa=">= 0.5",aa=!0,ca=!0,la=!0,ua=">= 0.11.5 && < 3",fa=">= 0.9.4",ha=">= 0.9.4",pa=">= 1.4.1",da=">= 0.9.4",ga=">= 0.9.4",ma=">= 0.9.4",ba=!0,ya=!0,va=[">= 0.4 && < 0.7",">= 0.8"],Ea=!0,wa=">= 0.11.13",La=">= 0.11.3 && < 10",Ca=">= 0.11.3",Aa=!0,Oa=">= 10",Sa=!0,Pa=!0,$a=!0,_a=">= 1",Ia=!0,Ra=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],Na=">= 11.7",xa=">= 0.5",Da={assert:Oo,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:So,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:Po,buffer:$o,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:_o,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:Io,"node:cluster":[">= 14.18 && < 15",">= 16"],console:Ro,"node:console":[">= 14.18 && < 15",">= 16"],constants:No,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:xo,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:Do,_debugger:Fo,dgram:To,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:Go,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:Mo,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:jo,"node:domain":[">= 14.18 && < 15",">= 16"],events:Bo,"node:events":[">= 14.18 && < 15",">= 16"],freelist:ko,fs:Uo,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:Wo,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:zo,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:Ho,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:Yo,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:Vo,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:Ko,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:Xo,"node:http":[">= 14.18 && < 15",">= 16"],http2:qo,"node:http2":[">= 14.18 && < 15",">= 16"],https:Jo,"node:https":[">= 14.18 && < 15",">= 16"],inspector:Zo,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:Qo,module:ea,"node:module":[">= 14.18 && < 15",">= 16"],net:ta,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:ra,"node:os":[">= 14.18 && < 15",">= 16"],path:na,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:ia,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:sa,"node:process":[">= 14.18 && < 15",">= 16"],punycode:oa,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:aa,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:ca,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:la,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:ua,_stream_duplex:fa,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:ha,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:pa,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:da,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:ga,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:ma,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:ba,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:ya,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:va,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:Ea,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:wa,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:La,_tls_wrap:Ca,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:Aa,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:Oa,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:Sa,"node:tty":[">= 14.18 && < 15",">= 16"],url:Pa,"node:url":[">= 14.18 && < 15",">= 16"],util:$a,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:_a,"node:v8":[">= 14.18 && < 15",">= 16"],vm:Ia,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:Ra,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:Na,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:xa,"node:zlib":[">= 14.18 && < 15",">= 16"]},Fa=Ao;function Ta(e,t){for(var r=e.split("."),n=t.split(" "),i=n.length>1?n[0]:"=",s=(n.length>1?n[1]:n[0]).split("."),o=0;o<3;++o){var a=parseInt(r[o]||0,10),c=parseInt(s[o]||0,10);if(a!==c)return i==="<"?a<c:i===">="?a>=c:!1}return i===">="}function Lr(e,t){var r=t.split(/ ?&& ?/);if(r.length===0)return!1;for(var n=0;n<r.length;++n)if(!Ta(e,r[n]))return!1;return!0}function Ga(e,t){if(typeof t=="boolean")return t;var r=typeof e>"u"?process.versions&&process.versions.node:e;if(typeof r!="string")throw new TypeError(typeof e>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(t&&typeof t=="object"){for(var n=0;n<t.length;++n)if(Lr(r,t[n]))return!0;return!1}return Lr(r,t)}var Cr=Da,Ma=function(t,r){return Fa(Cr,t)&&Ga(r,Cr[t])},ja=Ba;function Ba(e){if(!e||e==="ERROR: No README data found!")return;e=e.trim().split(`
`);let t=0;for(;e[t]&&e[t].trim().match(/^(#|$)/);)t++;let r=e.length,n=t+1;for(;n<r&&e[n].trim();)n++;return e.slice(t,n).join(" ").trim()}var ka={dependancies:"dependencies",dependecies:"dependencies",depdenencies:"dependencies",devEependencies:"devDependencies",depends:"dependencies","dev-dependencies":"devDependencies",devDependences:"devDependencies",devDepenencies:"devDependencies",devdependencies:"devDependencies",repostitory:"repository",repo:"repository",prefereGlobal:"preferGlobal",hompage:"homepage",hampage:"homepage",autohr:"author",autor:"author",contributers:"contributors",publicationConfig:"publishConfig",script:"scripts"},Ua={web:"url",name:"url"},Wa={server:"start",tests:"test"},za={topLevel:ka,bugs:Ua,script:Wa},Ha=Os,Ya=$s,Va=Xs,Re=uo,Ka=Ma,Xa=["dependencies","devDependencies","optionalDependencies"],qa=ja,st=Zr,te=za,Ar=e=>e.includes("@")&&e.indexOf("@")<e.lastIndexOf("."),Ja={warn:function(){},fixRepositoryField:function(e){if(e.repositories&&(this.warn("repositories"),e.repository=e.repositories[0]),!e.repository)return this.warn("missingRepository");typeof e.repository=="string"&&(e.repository={type:"git",url:e.repository});var t=e.repository.url||"";if(t){var r=Re.fromUrl(t);r&&(t=e.repository.url=r.getDefaultRepresentation()==="shortcut"?r.https():r.toString())}t.match(/github.com\/[^/]+\/[^/]+\.git\.git$/)&&this.warn("brokenGitUrl",t)},fixTypos:function(e){Object.keys(te.topLevel).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&this.warn("typo",t,te.topLevel[t])},this)},fixScriptsField:function(e){if(e.scripts){if(typeof e.scripts!="object"){this.warn("nonObjectScripts"),delete e.scripts;return}Object.keys(e.scripts).forEach(function(t){typeof e.scripts[t]!="string"?(this.warn("nonStringScript"),delete e.scripts[t]):te.script[t]&&!e.scripts[te.script[t]]&&this.warn("typo",t,te.script[t],"scripts")},this)}},fixFilesField:function(e){var t=e.files;t&&!Array.isArray(t)?(this.warn("nonArrayFiles"),delete e.files):e.files&&(e.files=e.files.filter(function(r){return!r||typeof r!="string"?(this.warn("invalidFilename",r),!1):!0},this))},fixBinField:function(e){if(e.bin&&typeof e.bin=="string"){var t={},r;(r=e.name.match(/^@[^/]+[/](.*)$/))?t[r[1]]=e.bin:t[e.name]=e.bin,e.bin=t}},fixManField:function(e){e.man&&typeof e.man=="string"&&(e.man=[e.man])},fixBundleDependenciesField:function(e){var t="bundledDependencies",r="bundleDependencies";e[t]&&!e[r]&&(e[r]=e[t],delete e[t]),e[r]&&!Array.isArray(e[r])?(this.warn("nonArrayBundleDependencies"),delete e[r]):e[r]&&(e[r]=e[r].filter(function(n){return!n||typeof n!="string"?(this.warn("nonStringBundleDependency",n),!1):(e.dependencies||(e.dependencies={}),Object.prototype.hasOwnProperty.call(e.dependencies,n)||(this.warn("nonDependencyBundleDependency",n),e.dependencies[n]="*"),!0)},this))},fixDependencies:function(e,t){sc(e,this.warn),nc(e,this.warn),this.fixBundleDependenciesField(e),["dependencies","devDependencies"].forEach(function(r){if(r in e){if(!e[r]||typeof e[r]!="object"){this.warn("nonObjectDependencies",r),delete e[r];return}Object.keys(e[r]).forEach(function(n){var i=e[r][n];typeof i!="string"&&(this.warn("nonStringDependency",n,JSON.stringify(i)),delete e[r][n]);var s=Re.fromUrl(e[r][n]);s&&(e[r][n]=s.toString())},this)}},this)},fixModulesField:function(e){e.modules&&(this.warn("deprecatedModules"),delete e.modules)},fixKeywordsField:function(e){typeof e.keywords=="string"&&(e.keywords=e.keywords.split(/,\s+/)),e.keywords&&!Array.isArray(e.keywords)?(delete e.keywords,this.warn("nonArrayKeywords")):e.keywords&&(e.keywords=e.keywords.filter(function(t){return typeof t!="string"||!t?(this.warn("nonStringKeyword"),!1):!0},this))},fixVersionField:function(e,t){var r=!t;if(!e.version)return e.version="",!0;if(!Ha(e.version,r))throw new Error('Invalid version: "'+e.version+'"');return e.version=Ya(e.version,r),!0},fixPeople:function(e){Or(e,tc),Or(e,rc)},fixNameField:function(e,t){typeof t=="boolean"?t={strict:t}:typeof t>"u"&&(t={});var r=t.strict;if(!e.name&&!r){e.name="";return}if(typeof e.name!="string")throw new Error("name field must be a string.");r||(e.name=e.name.trim()),ec(e.name,r,t.allowLegacyCase),Ka(e.name)&&this.warn("conflictingName",e.name)},fixDescriptionField:function(e){e.description&&typeof e.description!="string"&&(this.warn("nonStringDescription"),delete e.description),e.readme&&!e.description&&(e.description=qa(e.readme)),e.description===void 0&&delete e.description,e.description||this.warn("missingDescription")},fixReadmeField:function(e){e.readme||(this.warn("missingReadme"),e.readme="ERROR: No README data found!")},fixBugsField:function(e){if(!e.bugs&&e.repository&&e.repository.url){var t=Re.fromUrl(e.repository.url);t&&t.bugs()&&(e.bugs={url:t.bugs()})}else if(e.bugs){if(typeof e.bugs=="string")Ar(e.bugs)?e.bugs={email:e.bugs}:st.parse(e.bugs).protocol?e.bugs={url:e.bugs}:this.warn("nonEmailUrlBugsString");else{oc(e.bugs,this.warn);var r=e.bugs;e.bugs={},r.url&&(typeof r.url=="string"&&st.parse(r.url).protocol?e.bugs.url=r.url:this.warn("nonUrlBugsUrlField")),r.email&&(typeof r.email=="string"&&Ar(r.email)?e.bugs.email=r.email:this.warn("nonEmailBugsEmailField"))}!e.bugs.email&&!e.bugs.url&&(delete e.bugs,this.warn("emptyNormalizedBugs"))}},fixHomepageField:function(e){if(!e.homepage&&e.repository&&e.repository.url){var t=Re.fromUrl(e.repository.url);t&&t.docs()&&(e.homepage=t.docs())}if(e.homepage){if(typeof e.homepage!="string")return this.warn("nonUrlHomepage"),delete e.homepage;st.parse(e.homepage).protocol||(e.homepage="http://"+e.homepage)}},fixLicenseField:function(e){let t=e.license||e.licence;if(!t)return this.warn("missingLicense");if(typeof t!="string"||t.length<1||t.trim()==="")return this.warn("invalidLicense");if(!Va(t).validForNewPackages)return this.warn("invalidLicense")}};function Za(e){if(e.charAt(0)!=="@")return!1;var t=e.slice(1).split("/");return t.length!==2?!1:t[0]&&t[1]&&t[0]===encodeURIComponent(t[0])&&t[1]===encodeURIComponent(t[1])}function Qa(e){return!e.match(/[/@\s+%:]/)&&e===encodeURIComponent(e)}function ec(e,t,r){if(e.charAt(0)==="."||!(Za(e)||Qa(e))||t&&!r&&e!==e.toLowerCase()||e.toLowerCase()==="node_modules"||e.toLowerCase()==="favicon.ico")throw new Error("Invalid name: "+JSON.stringify(e))}function Or(e,t){return e.author&&(e.author=t(e.author)),["maintainers","contributors"].forEach(function(r){Array.isArray(e[r])&&(e[r]=e[r].map(t))}),e}function tc(e){if(typeof e=="string")return e;var t=e.name||"",r=e.url||e.web,n=r?" ("+r+")":"",i=e.email||e.mail,s=i?" <"+i+">":"";return t+s+n}function rc(e){if(typeof e!="string")return e;var t=e.match(/^([^(<]+)/),r=e.match(/\(([^()]+)\)/),n=e.match(/<([^<>]+)>/),i={};return t&&t[0].trim()&&(i.name=t[0].trim()),n&&(i.email=n[1]),r&&(i.url=r[1]),i}function nc(e,t){var r=e.optionalDependencies;if(r){var n=e.dependencies||{};Object.keys(r).forEach(function(i){n[i]=r[i]}),e.dependencies=n}}function ic(e,t,r){if(!e)return{};if(typeof e=="string"&&(e=e.trim().split(/[\n\r\s\t ,]+/)),!Array.isArray(e))return e;r("deprecatedArrayDependencies",t);var n={};return e.filter(function(i){return typeof i=="string"}).forEach(function(i){i=i.trim().split(/(:?[@\s><=])/);var s=i.shift(),o=i.join("");o=o.trim(),o=o.replace(/^@/,""),n[s]=o}),n}function sc(e,t){Xa.forEach(function(r){e[r]&&(e[r]=ic(e[r],r,t))})}function oc(e,t){e&&Object.keys(e).forEach(function(r){te.bugs[r]&&(t("typo",r,te.bugs[r],"bugs"),e[te.bugs[r]]=e[r],delete e[r])})}var ac="'repositories' (plural) Not supported. Please pick one as the 'repository' field",cc="No repository field.",lc="Probably broken git url: %s",uc="scripts must be an object",fc="script values must be string commands",hc="Invalid 'files' member",pc="Invalid filename in 'files' list: %s",dc="Invalid 'bundleDependencies' list. Must be array of package names",gc="Invalid bundleDependencies member: %s",mc="Non-dependency in bundleDependencies: %s",bc="%s field must be an object",yc="Invalid dependency: %s %s",vc="specifying %s as array is deprecated",Ec="modules field is deprecated",wc="keywords should be an array of strings",Lc="keywords should be an array of strings",Cc="%s is also the name of a node core module.",Ac="'description' field should be a string",Oc="No description",Sc="No README data",Pc="No license field.",$c="Bug string field must be url, email, or {email,url}",_c="bugs.url field must be a string url. Deleted.",Ic="bugs.email field must be a string email. Deleted.",Rc="Normalized value of bugs field is an empty object. Deleted.",Nc="homepage field must be a string url. Deleted.",xc="license should be a valid SPDX license expression",Dc="%s should probably be %s.",Fc={repositories:ac,missingRepository:cc,brokenGitUrl:lc,nonObjectScripts:uc,nonStringScript:fc,nonArrayFiles:hc,invalidFilename:pc,nonArrayBundleDependencies:dc,nonStringBundleDependency:gc,nonDependencyBundleDependency:mc,nonObjectDependencies:bc,nonStringDependency:yc,deprecatedArrayDependencies:vc,deprecatedModules:Ec,nonArrayKeywords:wc,nonStringKeyword:Lc,conflictingName:Cc,nonStringDescription:Ac,missingDescription:Oc,missingReadme:Sc,missingLicense:Pc,nonEmailUrlBugsString:$c,nonUrlBugsUrlField:_c,nonEmailBugsEmailField:Ic,emptyNormalizedBugs:Rc,nonUrlHomepage:Nc,invalidLicense:xc,typo:Dc},wn=Gi,yt=Fc,Tc=function(){var e=Array.prototype.slice.call(arguments,0),t=e.shift();if(t==="typo")return Gc.apply(null,e);var r=yt[t]?yt[t]:t+": '%s'";return e.unshift(r),wn.format.apply(null,e)};function Gc(e,t,r){return r&&(e=r+"['"+e+"']",t=r+"['"+t+"']"),wn.format(yt.typo,e,t)}var Mc=Ln,vt=Ja;Ln.fixer=vt;var jc=Tc,Bc=["name","version","description","repository","modules","scripts","files","bin","man","bugs","keywords","readme","homepage","license"],kc=["dependencies","people","typos"],Et=Bc.map(function(e){return Cn(e)+"Field"});Et=Et.concat(kc);function Ln(e,t,r){t===!0&&(t=null,r=!0),r||(r=!1),(!t||e.private)&&(t=function(n){}),e.scripts&&e.scripts.install==="node-gyp rebuild"&&!e.scripts.preinstall&&(e.gypfile=!0),vt.warn=function(){t(jc.apply(null,arguments))},Et.forEach(function(n){vt["fix"+Cn(n)](e,r)}),e._id=e.name+"@"+e.version}function Cn(e){return e.charAt(0).toUpperCase()+e.slice(1)}var _t=je(Mc),Sr=e=>e instanceof URL?Xr(e):e;function Uc(e,{cwd:t=Ui.cwd(),type:r="file",stopAt:n}={}){let i=ee.resolve(Sr(t)??""),{root:s}=ee.parse(i);for(n=ee.resolve(i,Sr(n)??s);i&&i!==n&&i!==s;){let o=ee.isAbsolute(e)?e:ee.join(i,e);try{let a=qr.statSync(o,{throwIfNoEntry:!1});if(r==="file"&&a?.isFile()||r==="directory"&&a?.isDirectory())return o}catch{}i=ee.dirname(i)}}var It={},Ce={},ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g;ke.matchToToken=function(e){var t={type:"invalid",value:e[0],closed:void 0};return e[1]?(t.type="string",t.closed=!!(e[3]||e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t};var An={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.isIdentifierChar=$n;Ae.isIdentifierName=Yc;Ae.isIdentifierStart=Pn;var Rt="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",On="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",Wc=new RegExp("["+Rt+"]"),zc=new RegExp("["+Rt+On+"]");Rt=On=null;var Sn=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Hc=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function wt(e,t){let r=65536;for(let n=0,i=t.length;n<i;n+=2){if(r+=t[n],r>e)return!1;if(r+=t[n+1],r>=e)return!0}return!1}function Pn(e){return e<65?e===36:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&Wc.test(String.fromCharCode(e)):wt(e,Sn)}function $n(e){return e<48?e===36:e<58?!0:e<65?!1:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&zc.test(String.fromCharCode(e)):wt(e,Sn)||wt(e,Hc)}function Yc(e){let t=!0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if((n&64512)===55296&&r+1<e.length){let i=e.charCodeAt(++r);(i&64512)===56320&&(n=65536+((n&1023)<<10)+(i&1023))}if(t){if(t=!1,!Pn(n))return!1}else if(!$n(n))return!1}return!t}var oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.isKeyword=Jc;oe.isReservedWord=_n;oe.isStrictBindOnlyReservedWord=Rn;oe.isStrictBindReservedWord=qc;oe.isStrictReservedWord=In;var Nt={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},Vc=new Set(Nt.keyword),Kc=new Set(Nt.strict),Xc=new Set(Nt.strictBind);function _n(e,t){return t&&e==="await"||e==="enum"}function In(e,t){return _n(e,t)||Kc.has(e)}function Rn(e){return Xc.has(e)}function qc(e,t){return In(e,t)||Rn(e)}function Jc(e){return Vc.has(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"isIdentifierChar",{enumerable:!0,get:function(){return t.isIdentifierChar}}),Object.defineProperty(e,"isIdentifierName",{enumerable:!0,get:function(){return t.isIdentifierName}}),Object.defineProperty(e,"isIdentifierStart",{enumerable:!0,get:function(){return t.isIdentifierStart}}),Object.defineProperty(e,"isKeyword",{enumerable:!0,get:function(){return r.isKeyword}}),Object.defineProperty(e,"isReservedWord",{enumerable:!0,get:function(){return r.isReservedWord}}),Object.defineProperty(e,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return r.isStrictBindOnlyReservedWord}}),Object.defineProperty(e,"isStrictBindReservedWord",{enumerable:!0,get:function(){return r.isStrictBindReservedWord}}),Object.defineProperty(e,"isStrictReservedWord",{enumerable:!0,get:function(){return r.isStrictReservedWord}});var t=Ae,r=oe})(An);var Nn={exports:{}},Zc=/[|\\{}()[\]^$+*?.]/g,Qc=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(Zc,"\\$&")},xt={exports:{}},xn={exports:{}},el={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},se=el,Dn={};for(Ne in se)se.hasOwnProperty(Ne)&&(Dn[se[Ne]]=Ne);var Ne,P=xn.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(B in P)if(P.hasOwnProperty(B)){if(!("channels"in P[B]))throw new Error("missing channels property: "+B);if(!("labels"in P[B]))throw new Error("missing channel labels property: "+B);if(P[B].labels.length!==P[B].channels)throw new Error("channel and label counts mismatch: "+B);Pr=P[B].channels,$r=P[B].labels,delete P[B].channels,delete P[B].labels,Object.defineProperty(P[B],"channels",{value:Pr}),Object.defineProperty(P[B],"labels",{value:$r})}var Pr,$r,B;P.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,c,u;return s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),u=(i+s)/2,s===i?c=0:u<=.5?c=o/(s+i):c=o/(2-s-i),[a,c*100,u*100]};P.rgb.hsv=function(e){var t,r,n,i,s,o=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(o,a,c),g=u-Math.min(o,a,c),m=function(L){return(u-L)/6/g+1/2};return g===0?i=s=0:(s=g/u,t=m(o),r=m(a),n=m(c),o===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};P.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2],i=P.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};P.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i,s,o,a;return a=Math.min(1-t,1-r,1-n),i=(1-t-a)/(1-a)||0,s=(1-r-a)/(1-a)||0,o=(1-n-a)/(1-a)||0,[i*100,s*100,o*100,a*100]};function tl(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}P.rgb.keyword=function(e){var t=Dn[e];if(t)return t;var r=1/0,n;for(var i in se)if(se.hasOwnProperty(i)){var s=se[i],o=tl(e,s);o<r&&(r=o,n=i)}return n};P.keyword.rgb=function(e){return se[e]};P.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};P.rgb.lab=function(e){var t=P.rgb.xyz(e),r=t[0],n=t[1],i=t[2],s,o,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*n-16,o=500*(r-n),a=200*(n-i),[s,o,a]};P.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o,a,c;if(r===0)return c=n*255,[c,c,c];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,a=[0,0,0];for(var u=0;u<3;u++)o=t+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?c=i+(s-i)*6*o:2*o<1?c=s:3*o<2?c=i+(s-i)*(2/3-o)*6:c=i,a[u]=c*255;return a};P.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01),o,a;return n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s,a=(n+r)/2,o=n===0?2*i/(s+i):2*r/(n+r),[t,o*100,a*100]};P.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}};P.hsv.hsl=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o,a;return a=(2-r)*n,s=(2-r)*i,o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[t,o*100,a*100]};P.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s,o,a,c;i>1&&(r/=i,n/=i),s=Math.floor(6*t),o=1-n,a=6*t-s,(s&1)!==0&&(a=1-a),c=r+a*(o-r);var u,g,m;switch(s){default:case 6:case 0:u=o,g=c,m=r;break;case 1:u=c,g=o,m=r;break;case 2:u=r,g=o,m=c;break;case 3:u=r,g=c,m=o;break;case 4:u=c,g=r,m=o;break;case 5:u=o,g=r,m=c;break}return[u*255,g*255,m*255]};P.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s,o,a;return s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[s*255,o*255,a*255]};P.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};P.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2],i,s,o;return t/=95.047,r/=100,n/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,s=500*(t-r),o=200*(r-n),[i,s,o]};P.lab.xyz=function(e){var t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;var a=Math.pow(s,3),c=Math.pow(i,3),u=Math.pow(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,o=u>.008856?u:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};P.lab.lch=function(e){var t=e[0],r=e[1],n=e[2],i,s,o;return i=Math.atan2(n,r),s=i*360/2/Math.PI,s<0&&(s+=360),o=Math.sqrt(r*r+n*n),[t,o,s]};P.lch.lab=function(e){var t=e[0],r=e[1],n=e[2],i,s,o;return o=n/360*2*Math.PI,i=r*Math.cos(o),s=r*Math.sin(o),[t,i,s]};P.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:P.rgb.hsv(e)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return i===2&&(s+=60),s};P.hsv.ansi16=function(e){return P.rgb.ansi16(P.hsv.rgb(e),e[2])};P.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};P.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};P.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var r,n=Math.floor(e/36)/5*255,i=Math.floor((r=e%36)/6)/5*255,s=r%6/5*255;return[n,i,s]};P.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};P.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];t[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};P.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,c;return o<1?a=s/(1-o):a=0,o<=0?c=0:i===t?c=(r-n)/o%6:i===r?c=2+(n-t)/o:c=4+(t-r)/o+4,c/=6,c%=1,[c*360,o*100,a*100]};P.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return r<.5?n=2*t*r:n=2*t*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};P.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};P.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],s=t%1*6,o=s%1,a=1-o,c=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};P.hcg.hsv=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};P.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};P.hcg.hwb=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};P.hwb.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};P.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};P.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};P.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};P.gray.hsl=P.gray.hsv=function(e){return[0,0,e[0]]};P.gray.hwb=function(e){return[0,100,e[0]]};P.gray.cmyk=function(e){return[0,0,0,e[0]]};P.gray.lab=function(e){return[e[0],0,0]};P.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};P.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]};var Fn=xn.exports,Me=Fn;function rl(){for(var e={},t=Object.keys(Me),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function nl(e){var t=rl(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(Me[n]),s=i.length,o=0;o<s;o++){var a=i[o],c=t[a];c.distance===-1&&(c.distance=t[n].distance+1,c.parent=n,r.unshift(a))}return t}function il(e,t){return function(r){return t(e(r))}}function sl(e,t){for(var r=[t[e].parent,e],n=Me[t[e].parent][e],i=t[e].parent;t[i].parent;)r.unshift(t[i].parent),n=il(Me[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}var ol=function(e){for(var t=nl(e),r={},n=Object.keys(t),i=n.length,s=0;s<i;s++){var o=n[s],a=t[o];a.parent!==null&&(r[o]=sl(o,t))}return r},Lt=Fn,al=ol,de={},cl=Object.keys(Lt);function ll(e){var t=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function ul(e){var t=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=e(r);if(typeof n=="object")for(var i=n.length,s=0;s<i;s++)n[s]=Math.round(n[s]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}cl.forEach(function(e){de[e]={},Object.defineProperty(de[e],"channels",{value:Lt[e].channels}),Object.defineProperty(de[e],"labels",{value:Lt[e].labels});var t=al(e),r=Object.keys(t);r.forEach(function(n){var i=t[n];de[e][n]=ul(i),de[e][n].raw=ll(i)})});var Tn=de;xt.exports;(function(e){let t=Tn,r=(o,a)=>function(){return`\x1B[${o.apply(t,arguments)+a}m`},n=(o,a)=>function(){let c=o.apply(t,arguments);return`\x1B[${38+a};5;${c}m`},i=(o,a)=>function(){let c=o.apply(t,arguments);return`\x1B[${38+a};2;${c[0]};${c[1]};${c[2]}m`};function s(){let o=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.grey=a.color.gray;for(let g of Object.keys(a)){let m=a[g];for(let L of Object.keys(m)){let C=m[L];a[L]={open:`\x1B[${C[0]}m`,close:`\x1B[${C[1]}m`},m[L]=a[L],o.set(C[0],C[1])}Object.defineProperty(a,g,{value:m,enumerable:!1}),Object.defineProperty(a,"codes",{value:o,enumerable:!1})}let c=g=>g,u=(g,m,L)=>[g,m,L];a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi={ansi:r(c,0)},a.color.ansi256={ansi256:n(c,0)},a.color.ansi16m={rgb:i(u,0)},a.bgColor.ansi={ansi:r(c,10)},a.bgColor.ansi256={ansi256:n(c,10)},a.bgColor.ansi16m={rgb:i(u,10)};for(let g of Object.keys(t)){if(typeof t[g]!="object")continue;let m=t[g];g==="ansi16"&&(g="ansi"),"ansi16"in m&&(a.color.ansi[g]=r(m.ansi16,0),a.bgColor.ansi[g]=r(m.ansi16,10)),"ansi256"in m&&(a.color.ansi256[g]=n(m.ansi256,0),a.bgColor.ansi256[g]=n(m.ansi256,10)),"rgb"in m&&(a.color.ansi16m[g]=i(m.rgb,0),a.bgColor.ansi16m[g]=i(m.rgb,10))}return a}Object.defineProperty(e,"exports",{enumerable:!0,get:s})})(xt);var fl=xt.exports,hl=(e,t)=>{t=t||process.argv;let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1?!0:n<i)},pl=Jr,Y=hl,G=process.env,me;Y("no-color")||Y("no-colors")||Y("color=false")?me=!1:(Y("color")||Y("colors")||Y("color=true")||Y("color=always"))&&(me=!0);"FORCE_COLOR"in G&&(me=G.FORCE_COLOR.length===0||parseInt(G.FORCE_COLOR,10)!==0);function dl(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function gl(e){if(me===!1)return 0;if(Y("color=16m")||Y("color=full")||Y("color=truecolor"))return 3;if(Y("color=256"))return 2;if(e&&!e.isTTY&&me!==!0)return 0;let t=me?1:0;if(process.platform==="win32"){let r=pl.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in G)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in G)||G.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in G)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(G.TEAMCITY_VERSION)?1:0;if(G.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in G){let r=parseInt((G.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(G.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(G.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(G.TERM)||"COLORTERM"in G?1:(G.TERM==="dumb",t)}function ot(e){let t=gl(e);return dl(t)}var ml={supportsColor:ot,stdout:ot(process.stdout),stderr:ot(process.stderr)},bl=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,_r=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,yl=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,vl=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,El=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Gn(e){return e[0]==="u"&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):El.get(e)||e}function wl(e,t){let r=[],n=t.trim().split(/\s*,\s*/g),i;for(let s of n)if(!isNaN(s))r.push(Number(s));else if(i=s.match(yl))r.push(i[2].replace(vl,(o,a,c)=>a?Gn(a):c));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`);return r}function Ll(e){_r.lastIndex=0;let t=[],r;for(;(r=_r.exec(e))!==null;){let n=r[1];if(r[2]){let i=wl(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function Ir(e,t){let r={};for(let i of t)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(let i of Object.keys(r))if(Array.isArray(r[i])){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);r[i].length>0?n=n[i].apply(n,r[i]):n=n[i]}return n}var Cl=(e,t)=>{let r=[],n=[],i=[];if(t.replace(bl,(s,o,a,c,u,g)=>{if(o)i.push(Gn(o));else if(c){let m=i.join("");i=[],n.push(r.length===0?m:Ir(e,r)(m)),r.push({inverse:a,styles:Ll(c)})}else if(u){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Ir(e,r)(i.join(""))),i=[],r.pop()}else i.push(g)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")};(function(e){let t=Qc,r=fl,n=ml.stdout,i=Cl,s=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),o=["ansi","ansi","ansi256","ansi16m"],a=new Set(["gray"]),c=Object.create(null);function u(p,l){l=l||{};let y=n?n.level:0;p.level=l.level===void 0?y:l.level,p.enabled="enabled"in l?l.enabled:p.level>0}function g(p){if(!this||!(this instanceof g)||this.template){let l={};return u(l,p),l.template=function(){let y=[].slice.call(arguments);return v.apply(null,[l.template].concat(y))},Object.setPrototypeOf(l,g.prototype),Object.setPrototypeOf(l.template,l),l.template.constructor=g,l.template}u(this,p)}s&&(r.blue.open="\x1B[94m");for(let p of Object.keys(r))r[p].closeRe=new RegExp(t(r[p].close),"g"),c[p]={get(){let l=r[p];return L.call(this,this._styles?this._styles.concat(l):[l],this._empty,p)}};c.visible={get(){return L.call(this,this._styles||[],!0,"visible")}},r.color.closeRe=new RegExp(t(r.color.close),"g");for(let p of Object.keys(r.color.ansi))a.has(p)||(c[p]={get(){let l=this.level;return function(){let O={open:r.color[o[l]][p].apply(null,arguments),close:r.color.close,closeRe:r.color.closeRe};return L.call(this,this._styles?this._styles.concat(O):[O],this._empty,p)}}});r.bgColor.closeRe=new RegExp(t(r.bgColor.close),"g");for(let p of Object.keys(r.bgColor.ansi)){if(a.has(p))continue;let l="bg"+p[0].toUpperCase()+p.slice(1);c[l]={get(){let y=this.level;return function(){let E={open:r.bgColor[o[y]][p].apply(null,arguments),close:r.bgColor.close,closeRe:r.bgColor.closeRe};return L.call(this,this._styles?this._styles.concat(E):[E],this._empty,p)}}}}let m=Object.defineProperties(()=>{},c);function L(p,l,y){let O=function(){return C.apply(O,arguments)};O._styles=p,O._empty=l;let E=this;return Object.defineProperty(O,"level",{enumerable:!0,get(){return E.level},set(I){E.level=I}}),Object.defineProperty(O,"enabled",{enumerable:!0,get(){return E.enabled},set(I){E.enabled=I}}),O.hasGrey=this.hasGrey||y==="gray"||y==="grey",O.__proto__=m,O}function C(){let p=arguments,l=p.length,y=String(arguments[0]);if(l===0)return"";if(l>1)for(let E=1;E<l;E++)y+=" "+p[E];if(!this.enabled||this.level<=0||!y)return this._empty?"":y;let O=r.dim.open;s&&this.hasGrey&&(r.dim.open="");for(let E of this._styles.slice().reverse())y=E.open+y.replace(E.closeRe,E.open)+E.close,y=y.replace(/\r?\n/g,`${E.close}$&${E.open}`);return r.dim.open=O,y}function v(p,l){if(!Array.isArray(l))return[].slice.call(arguments,1).join(" ");let y=[].slice.call(arguments,2),O=[l.raw[0]];for(let E=1;E<l.length;E++)O.push(String(y[E-1]).replace(/[{}\\]/g,"\\$&")),O.push(String(l.raw[E]));return i(p,O.join(""))}Object.defineProperties(g.prototype,c),e.exports=g(),e.exports.supportsColor=n,e.exports.default=e.exports})(Nn);var Al=Nn.exports;Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=Rl;Ce.shouldHighlight=Bn;var Rr=ke,Nr=An,Ct=Ol(Al,!0);function Mn(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Mn=function(n){return n?r:t})(e)}function Ol(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Mn(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var Sl=new Set(["as","async","from","get","of","set"]);function Pl(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.grey,invalid:e.white.bgRed.bold}}var $l=/\r\n|[\n\r\u2028\u2029]/,_l=/^[()[\]{}]$/,jn;{let e=/^[a-z][\w-]*$/i,t=function(r,n,i){if(r.type==="name"){if((0,Nr.isKeyword)(r.value)||(0,Nr.isStrictReservedWord)(r.value,!0)||Sl.has(r.value))return"keyword";if(e.test(r.value)&&(i[n-1]==="<"||i.slice(n-2,n)=="</"))return"jsxIdentifier";if(r.value[0]!==r.value[0].toLowerCase())return"capitalized"}return r.type==="punctuator"&&_l.test(r.value)?"bracket":r.type==="invalid"&&(r.value==="@"||r.value==="#")?"punctuator":r.type};jn=function*(r){let n;for(;n=Rr.default.exec(r);){let i=Rr.matchToToken(n);yield{type:t(i,n.index,r),value:i.value}}}}function Il(e,t){let r="";for(let{type:n,value:i}of jn(t)){let s=e[n];s?r+=i.split($l).map(o=>s(o)).join(`
`):r+=i}return r}function Bn(e){return Ct.default.level>0||e.forceColor}var at;function kn(e){if(e){var t;return(t=at)!=null||(at=new Ct.default.constructor({enabled:!0,level:1})),at}return Ct.default}Ce.getChalk=e=>kn(e.forceColor);function Rl(e,t={}){if(e!==""&&Bn(t)){let r=Pl(kn(t.forceColor));return Il(r,e)}else return e}var Un={exports:{}},Nl=/[|\\{}()[\]^$+*?.]/g,xl=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(Nl,"\\$&")},Dt={exports:{}};Dt.exports;(function(e){let t=Tn,r=(o,a)=>function(){return`\x1B[${o.apply(t,arguments)+a}m`},n=(o,a)=>function(){let c=o.apply(t,arguments);return`\x1B[${38+a};5;${c}m`},i=(o,a)=>function(){let c=o.apply(t,arguments);return`\x1B[${38+a};2;${c[0]};${c[1]};${c[2]}m`};function s(){let o=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.grey=a.color.gray;for(let g of Object.keys(a)){let m=a[g];for(let L of Object.keys(m)){let C=m[L];a[L]={open:`\x1B[${C[0]}m`,close:`\x1B[${C[1]}m`},m[L]=a[L],o.set(C[0],C[1])}Object.defineProperty(a,g,{value:m,enumerable:!1}),Object.defineProperty(a,"codes",{value:o,enumerable:!1})}let c=g=>g,u=(g,m,L)=>[g,m,L];a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi={ansi:r(c,0)},a.color.ansi256={ansi256:n(c,0)},a.color.ansi16m={rgb:i(u,0)},a.bgColor.ansi={ansi:r(c,10)},a.bgColor.ansi256={ansi256:n(c,10)},a.bgColor.ansi16m={rgb:i(u,10)};for(let g of Object.keys(t)){if(typeof t[g]!="object")continue;let m=t[g];g==="ansi16"&&(g="ansi"),"ansi16"in m&&(a.color.ansi[g]=r(m.ansi16,0),a.bgColor.ansi[g]=r(m.ansi16,10)),"ansi256"in m&&(a.color.ansi256[g]=n(m.ansi256,0),a.bgColor.ansi256[g]=n(m.ansi256,10)),"rgb"in m&&(a.color.ansi16m[g]=i(m.rgb,0),a.bgColor.ansi16m[g]=i(m.rgb,10))}return a}Object.defineProperty(e,"exports",{enumerable:!0,get:s})})(Dt);var Dl=Dt.exports,Fl=(e,t)=>{t=t||process.argv;let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1?!0:n<i)},Tl=Jr,V=Fl,M=process.env,be;V("no-color")||V("no-colors")||V("color=false")?be=!1:(V("color")||V("colors")||V("color=true")||V("color=always"))&&(be=!0);"FORCE_COLOR"in M&&(be=M.FORCE_COLOR.length===0||parseInt(M.FORCE_COLOR,10)!==0);function Gl(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Ml(e){if(be===!1)return 0;if(V("color=16m")||V("color=full")||V("color=truecolor"))return 3;if(V("color=256"))return 2;if(e&&!e.isTTY&&be!==!0)return 0;let t=be?1:0;if(process.platform==="win32"){let r=Tl.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in M)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in M)||M.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in M)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(M.TEAMCITY_VERSION)?1:0;if(M.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in M){let r=parseInt((M.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(M.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(M.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(M.TERM)||"COLORTERM"in M?1:(M.TERM==="dumb",t)}function ct(e){let t=Ml(e);return Gl(t)}var jl={supportsColor:ct,stdout:ct(process.stdout),stderr:ct(process.stderr)},Bl=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,xr=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,kl=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Ul=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,Wl=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Wn(e){return e[0]==="u"&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):Wl.get(e)||e}function zl(e,t){let r=[],n=t.trim().split(/\s*,\s*/g),i;for(let s of n)if(!isNaN(s))r.push(Number(s));else if(i=s.match(kl))r.push(i[2].replace(Ul,(o,a,c)=>a?Wn(a):c));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`);return r}function Hl(e){xr.lastIndex=0;let t=[],r;for(;(r=xr.exec(e))!==null;){let n=r[1];if(r[2]){let i=zl(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function Dr(e,t){let r={};for(let i of t)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(let i of Object.keys(r))if(Array.isArray(r[i])){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);r[i].length>0?n=n[i].apply(n,r[i]):n=n[i]}return n}var Yl=(e,t)=>{let r=[],n=[],i=[];if(t.replace(Bl,(s,o,a,c,u,g)=>{if(o)i.push(Wn(o));else if(c){let m=i.join("");i=[],n.push(r.length===0?m:Dr(e,r)(m)),r.push({inverse:a,styles:Hl(c)})}else if(u){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Dr(e,r)(i.join(""))),i=[],r.pop()}else i.push(g)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")};(function(e){let t=xl,r=Dl,n=jl.stdout,i=Yl,s=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),o=["ansi","ansi","ansi256","ansi16m"],a=new Set(["gray"]),c=Object.create(null);function u(p,l){l=l||{};let y=n?n.level:0;p.level=l.level===void 0?y:l.level,p.enabled="enabled"in l?l.enabled:p.level>0}function g(p){if(!this||!(this instanceof g)||this.template){let l={};return u(l,p),l.template=function(){let y=[].slice.call(arguments);return v.apply(null,[l.template].concat(y))},Object.setPrototypeOf(l,g.prototype),Object.setPrototypeOf(l.template,l),l.template.constructor=g,l.template}u(this,p)}s&&(r.blue.open="\x1B[94m");for(let p of Object.keys(r))r[p].closeRe=new RegExp(t(r[p].close),"g"),c[p]={get(){let l=r[p];return L.call(this,this._styles?this._styles.concat(l):[l],this._empty,p)}};c.visible={get(){return L.call(this,this._styles||[],!0,"visible")}},r.color.closeRe=new RegExp(t(r.color.close),"g");for(let p of Object.keys(r.color.ansi))a.has(p)||(c[p]={get(){let l=this.level;return function(){let O={open:r.color[o[l]][p].apply(null,arguments),close:r.color.close,closeRe:r.color.closeRe};return L.call(this,this._styles?this._styles.concat(O):[O],this._empty,p)}}});r.bgColor.closeRe=new RegExp(t(r.bgColor.close),"g");for(let p of Object.keys(r.bgColor.ansi)){if(a.has(p))continue;let l="bg"+p[0].toUpperCase()+p.slice(1);c[l]={get(){let y=this.level;return function(){let E={open:r.bgColor[o[y]][p].apply(null,arguments),close:r.bgColor.close,closeRe:r.bgColor.closeRe};return L.call(this,this._styles?this._styles.concat(E):[E],this._empty,p)}}}}let m=Object.defineProperties(()=>{},c);function L(p,l,y){let O=function(){return C.apply(O,arguments)};O._styles=p,O._empty=l;let E=this;return Object.defineProperty(O,"level",{enumerable:!0,get(){return E.level},set(I){E.level=I}}),Object.defineProperty(O,"enabled",{enumerable:!0,get(){return E.enabled},set(I){E.enabled=I}}),O.hasGrey=this.hasGrey||y==="gray"||y==="grey",O.__proto__=m,O}function C(){let p=arguments,l=p.length,y=String(arguments[0]);if(l===0)return"";if(l>1)for(let E=1;E<l;E++)y+=" "+p[E];if(!this.enabled||this.level<=0||!y)return this._empty?"":y;let O=r.dim.open;s&&this.hasGrey&&(r.dim.open="");for(let E of this._styles.slice().reverse())y=E.open+y.replace(E.closeRe,E.open)+E.close,y=y.replace(/\r?\n/g,`${E.close}$&${E.open}`);return r.dim.open=O,y}function v(p,l){if(!Array.isArray(l))return[].slice.call(arguments,1).join(" ");let y=[].slice.call(arguments,2),O=[l.raw[0]];for(let E=1;E<l.length;E++)O.push(String(y[E-1]).replace(/[{}\\]/g,"\\$&")),O.push(String(l.raw[E]));return i(p,O.join(""))}Object.defineProperties(g.prototype,c),e.exports=g(),e.exports.supportsColor=n,e.exports.default=e.exports})(Un);var Vl=Un.exports;Object.defineProperty(It,"__esModule",{value:!0});var Kl=It.codeFrameColumns=Hn;It.default=Ql;var Fr=Ce,Tr=Xl(Vl,!0);function zn(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(zn=function(n){return n?r:t})(e)}function Xl(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=zn(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var lt;function ql(e){if(e){var t;return(t=lt)!=null||(lt=new Tr.default.constructor({enabled:!0,level:1})),lt}return Tr.default}var Gr=!1;function Jl(e){return{gutter:e.grey,marker:e.red.bold,message:e.red.bold}}var Mr=/\r\n|[\n\r\u2028\u2029]/;function Zl(e,t,r){let n=Object.assign({column:0,line:-1},e.start),i=Object.assign({},n,e.end),{linesAbove:s=2,linesBelow:o=3}=r||{},a=n.line,c=n.column,u=i.line,g=i.column,m=Math.max(a-(s+1),0),L=Math.min(t.length,u+o);a===-1&&(m=0),u===-1&&(L=t.length);let C=u-a,v={};if(C)for(let p=0;p<=C;p++){let l=p+a;if(!c)v[l]=!0;else if(p===0){let y=t[l-1].length;v[l]=[c,y-c+1]}else if(p===C)v[l]=[0,g];else{let y=t[l-p].length;v[l]=[0,y]}}else c===g?c?v[a]=[c,0]:v[a]=!0:v[a]=[c,g-c];return{start:m,end:L,markerLines:v}}function Hn(e,t,r={}){let n=(r.highlightCode||r.forceColor)&&(0,Fr.shouldHighlight)(r),i=ql(r.forceColor),s=Jl(i),o=(p,l)=>n?p(l):l,a=e.split(Mr),{start:c,end:u,markerLines:g}=Zl(t,a,r),m=t.start&&typeof t.start.column=="number",L=String(u).length,v=(n?(0,Fr.default)(e,r):e).split(Mr,u).slice(c,u).map((p,l)=>{let y=c+1+l,E=` ${` ${y}`.slice(-L)} |`,I=g[y],R=!g[y+1];if(I){let k="";if(Array.isArray(I)){let U=p.slice(0,Math.max(I[0]-1,0)).replace(/[^\t]/g," "),Z=I[1]||1;k=[`
 `,o(s.gutter,E.replace(/\d/g," "))," ",U,o(s.marker,"^").repeat(Z)].join(""),R&&r.message&&(k+=" "+o(s.message,r.message))}return[o(s.marker,">"),o(s.gutter,E),p.length>0?` ${p}`:"",k].join("")}else return` ${o(s.gutter,E)}${p.length>0?` ${p}`:""}`}).join(`
`);return r.message&&!m&&(v=`${" ".repeat(L+1)}${r.message}
${v}`),n?i.reset(v):v}function Ql(e,t,r,n={}){if(!Gr){Gr=!0;let s="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(s,"DeprecationWarning");else{let o=new Error(s);o.name="DeprecationWarning",console.warn(new Error(s))}}return r=Math.max(r,0),Hn(e,{start:{column:r,line:t}},n)}var jr=(e,t,r)=>r<0?-1:e.lastIndexOf(t,r);function eu(e,t){let r=jr(e,`
`,t-1),n=t-r-1,i=0;for(let s=r;s>=0;s=jr(e,`
`,s-1))i++;return{line:i,column:n}}function Br(e,t,{oneBased:r=!1}={}){if(t<0||t>=e.length&&e.length>0)throw new RangeError("Index out of bounds");let n=eu(e,t);return r?{line:n.line+1,column:n.column+1}:n}var tu=e=>`\\u{${e.codePointAt(0).toString(16)}}`,At=class e extends Error{name="JSONError";fileName;codeFrame;rawCodeFrame;#n;constructor(t){super(),this.#n=t,Error.captureStackTrace?.(this,e)}get message(){let{fileName:t,codeFrame:r}=this;return`${this.#n}${t?` in ${t}`:""}${r?`

${r}
`:""}`}set message(t){this.#n=t}},kr=(e,t,r=!0)=>Kl(e,{start:t},{highlightCode:r}),ru=(e,t)=>{let r=t.match(/in JSON at position (?<index>\d+)(?: \(line (?<line>\d+) column (?<column>\d+)\))?$/);if(!r)return;let{index:n,line:i,column:s}=r.groups;if(i&&s)return{line:Number(i),column:Number(s)};if(n=Number(n),n===e.length){let{line:o,column:a}=Br(e,e.length-1,{oneBased:!0});return{line:o,column:a+1}}return Br(e,n,{oneBased:!0})},nu=e=>e.replace(/(?<=^Unexpected token )(?<quote>')?(.)\k<quote>/,(t,r,n)=>`"${n}"(${tu(n)})`);function iu(e,t,r){typeof t=="string"&&(r=t,t=void 0);let n;try{return JSON.parse(e,t)}catch(o){n=o.message}let i;e?(i=ru(e,n),n=nu(n)):n+=" while parsing empty string";let s=new At(n);throw s.fileName=r,i&&(s.codeFrame=kr(e,i),s.rawCodeFrame=kr(e,i,!1)),s}function su(e){return e instanceof URL?Xr(e):e}var ou=e=>ee.resolve(su(e)??".","package.json"),au=(e,t)=>{let r=typeof e=="string"?iu(e):e;return t&&_t(r),r};function cu({cwd:e,normalize:t=!0}={}){let r=qr.readFileSync(ou(e),"utf8");return au(r,t)}function Yn(e){let t=Uc("package.json",e);if(t)return{packageJson:cu({...e,cwd:ee.dirname(t)}),path:t}}var lu=(e,t)=>(e=e.replace(/((?<![\p{Uppercase_Letter}\d])[\p{Uppercase_Letter}\d](?![\p{Uppercase_Letter}\d]))/gu,r=>r.toLowerCase()),e.replace(new RegExp("(\\p{Uppercase_Letter}+)(\\p{Uppercase_Letter}\\p{Lowercase_Letter}+)","gu"),(r,n,i)=>n+t+i.toLowerCase()));function Ft(e,{separator:t="_",preserveConsecutiveUppercase:r=!1}={}){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("The `text` and `separator` arguments should be of type `string`");if(e.length<2)return r?e:e.toLowerCase();let n=`$1${t}$2`,i=e.replace(new RegExp("([\\p{Lowercase_Letter}\\d])(\\p{Uppercase_Letter})","gu"),n);return r?lu(i,t):i.replace(new RegExp("(\\p{Uppercase_Letter})(\\p{Uppercase_Letter}\\p{Lowercase_Letter}+)","gu"),n).toLowerCase()}var Tt={exports:{}},uu=Object.prototype.toString,fu=function(e){var t;return uu.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},hu=function(e){return e==null?[]:Array.isArray(e)?e:[e]},pu=Object.prototype.toString,du=function(t){if(t===void 0)return"undefined";if(t===null)return"null";var r=typeof t;if(r==="boolean")return"boolean";if(r==="string")return"string";if(r==="number")return"number";if(r==="symbol")return"symbol";if(r==="function")return vu(t)?"generatorfunction":"function";if(gu(t))return"array";if(Lu(t))return"buffer";if(wu(t))return"arguments";if(bu(t))return"date";if(mu(t))return"error";if(yu(t))return"regexp";switch(Vn(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(Eu(t))return"generator";switch(r=pu.call(t),r){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")};function Vn(e){return typeof e.constructor=="function"?e.constructor.name:null}function gu(e){return Array.isArray?Array.isArray(e):e instanceof Array}function mu(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function bu(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function yu(e){return e instanceof RegExp?!0:typeof e.flags=="string"&&typeof e.ignoreCase=="boolean"&&typeof e.multiline=="boolean"&&typeof e.global=="boolean"}function vu(e,t){return Vn(e)==="GeneratorFunction"}function Eu(e){return typeof e.throw=="function"&&typeof e.return=="function"&&typeof e.next=="function"}function wu(e){try{if(typeof e.length=="number"&&typeof e.callee=="function")return!0}catch(t){if(t.message.indexOf("callee")!==-1)return!0}return!1}function Lu(e){return e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}var Cu=fu,Au=hu,Ot=du,Ur=(e,t,r)=>{e[t]||(e[t]=[]),e[t].push(r)},Wr=(e,t,r,n)=>{e[t]||(e[t]={}),e[t][r]=n},De=e=>Array.isArray(e)?`[${e.map(De).join(", ")}]`:Ot(e)==="string"?JSON.stringify(e):e,Ou=e=>{if(Array.isArray(e)&&e.length>0){let[t]=e;return`${Ot(t)}-array`}return Ot(e)},Su=(e,t)=>{let r=e==="array"?"string-array":e;return Gt.includes(r)&&Array.isArray(t)&&t.length===0?"array":r},Pu=["stopEarly","unknown","--"],Kn=["string","boolean","number"],Gt=Kn.map(e=>`${e}-array`),zr=[...Kn,"array",...Gt],Xn=e=>{e=e||{};let t={};return Pu.forEach(r=>{e[r]&&(t[r]=e[r])}),Object.keys(e).forEach(r=>{let n=e[r];if(r==="arguments"&&(r="_"),typeof n=="string"&&(n={type:n}),Cu(n)){let i=n,{type:s}=i;if(s){if(!zr.includes(s))throw new TypeError(`Expected type of "${r}" to be one of ${De(zr)}, got ${De(s)}`);if(Gt.includes(s)){let[o]=s.split("-");Ur(t,"array",{key:r,[o]:!0})}else Ur(t,s,r)}if({}.hasOwnProperty.call(i,"default")){let{default:o}=i,a=Ou(o),c=Su(s,o);if(c&&c!==a)throw new TypeError(`Expected "${r}" default value to be of type "${c}", got ${De(a)}`);Wr(t,"default",r,o)}Au(i.alias).forEach(o=>{Wr(t,"alias",o,r)})}}),t};Tt.exports=Xn;Tt.exports.default=Xn;var $u=Tt.exports,qn=je($u),Mt={exports:{}},Jn=e=>typeof e=="object"&&e!==null,Zn=Symbol("skip"),Hr=e=>Jn(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),St=(e,t,r,n=new WeakMap)=>{if(r={deep:!1,target:{},...r},n.has(e))return n.get(e);n.set(e,r.target);let{target:i}=r;delete r.target;let s=o=>o.map(a=>Hr(a)?St(a,t,r,n):a);if(Array.isArray(e))return s(e);for(let[o,a]of Object.entries(e)){let c=t(o,a,e);if(c===Zn)continue;let[u,g,{shouldRecurse:m=!0}={}]=c;u!=="__proto__"&&(r.deep&&m&&Hr(g)&&(g=Array.isArray(g)?s(g):St(g,t,r,n)),i[u]=g)}return i};Mt.exports=(e,t,r)=>{if(!Jn(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return St(e,t,r)};Mt.exports.mapObjectSkip=Zn;var _u=Mt.exports,Yr=je(_u),Iu=(e,t)=>e.some(r=>typeof r=="string"?r===t:(r.lastIndex=0,r.test(t))),ut=new Fe({maxSize:1e5}),Vr=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),Kr=(e,t={})=>{if(!Vr(e))return e;let{separator:r="_",exclude:n,deep:i=!1}=t,s=o=>(a,c)=>{if(i&&Vr(c)&&(c=Yr(c,s())),!(n&&Iu(n,a))){let u=`${r}${a}`;if(ut.has(u))a=ut.get(u);else{let g=Ft(a,{separator:r});a.length<100&&ut.set(u,g),a=g}}return[a,c]};return Yr(e,s())};function Qn(e,t){return Array.isArray(e)?Object.keys(e).map(r=>Kr(e[r],t)):Kr(e,t)}import Ru from"node:process";import{dirname as Nu}from"node:path";import{fileURLToPath as xu}from"node:url";var ae=e=>`--${Ft(e,{separator:"-"})}`,Oe=(e,t="--")=>`\`${t}${e.join(`\`, \`${t}`)}\``;var Du=e=>{let t={flags:{keyContainsDashes:{filter:([n])=>n.includes("-")&&n!=="--",message:n=>`Flag keys may not contain '-'. Invalid flags: ${Oe(n,"")}`},aliasIsSet:{filter:([,n])=>Object.hasOwn(n,"alias"),message:n=>`The option \`alias\` has been renamed to \`shortFlag\`. The following flags need to be updated: ${Oe(n)}`},choicesNotAnArray:{filter:([,n])=>Object.hasOwn(n,"choices")&&!Array.isArray(n.choices),message:n=>`The option \`choices\` must be an array. Invalid flags: ${Oe(n)}`},choicesNotMatchFlagType:{filter:([,n])=>n.type&&Array.isArray(n.choices)&&n.choices.some(i=>typeof i!==n.type),message(n){return`Each value of the option \`choices\` must be of the same type as its flag. Invalid flags: ${n.map(s=>`(\`${ae(s)}\`, type: '${e.flags[s].type}')`).join(", ")}`}},defaultNotInChoices:{filter:([,n])=>n.default&&Array.isArray(n.choices)&&![n.default].flat().every(i=>n.choices.includes(i)),message:n=>`Each value of the option \`default\` must exist within the option \`choices\`. Invalid flags: ${Oe(n)}`}}},r=[];for(let[n,i]of Object.entries(t)){let s=Object.entries(e[n]);for(let{filter:o,message:a}of Object.values(i)){let c=s.filter(g=>o(g)),u=c.map(([g])=>g);c.length>0&&r.push(a(u))}}if(r.length>0)throw new Error(r.join(`
`))},ei=(e,t)=>{if(typeof e!="string"&&(t=e,e=""),!t.importMeta?.url)throw new TypeError("The `importMeta` option is required. Its value must be `import.meta`.");let r=Yn({cwd:Nu(xu(t.importMeta.url)),normalize:!1}),n={pkg:r?r.packageJson:{},argv:Ru.argv.slice(2),flags:{},inferType:!1,input:"string",help:e,autoHelp:!0,autoVersion:!0,booleanDefault:!1,allowUnknownFlags:!0,allowParentFlags:!0,helpIndent:2,...t};return Du(n),n};var Fu=({flags:e,booleanDefault:t})=>{let r={};for(let[n,i]of Object.entries(e)){let s={...i};s.shortFlag&&(s.alias=s.shortFlag,delete s.shortFlag),t!==void 0&&s.type==="boolean"&&!Object.hasOwn(s,"default")&&(s.default=s.isMultiple?[t]:t),s.isMultiple&&(s.type=s.type?`${s.type}-array`:"array",s.default=s.default??[],delete s.isMultiple),Array.isArray(s.aliases)&&(s.alias&&s.aliases.push(s.alias),s.alias=s.aliases,delete s.aliases),r[n]=s}return r},ti=e=>{let t=Fu(e);return t.arguments=e.input,t=Qn(t,{separator:"-",exclude:["stopEarly","--"]}),e.inferType&&delete t.arguments,e.allowUnknownFlags||(e.autoHelp&&!t.help&&(t.help={type:"boolean"}),e.autoVersion&&!t.version&&(t.version={type:"boolean"})),t=qn(t),t.configuration={...t.configuration,"greedy-arrays":!1},t["--"]&&(t.configuration["populate--"]=!0),e.allowUnknownFlags||(t.configuration["unknown-options-as-args"]=!0),t};import ri from"node:process";var Tu=(e,t)=>{for(let[r,n]of Object.entries(t.flags))if(r!=="--"&&!n.isMultiple&&Array.isArray(e[r]))throw new Error(`The flag --${r} can only be set once.`)},Gu=(e,t,r)=>{let{choices:n,isRequired:i}=t;if(!n)return;let s=`Value must be one of: [\`${n.join("`, `")}\`]`;if(!r)return i?`Flag \`${ae(e)}\` has no value. ${s}`:void 0;if(Array.isArray(r)){let o=r.filter(a=>!n.includes(a));if(o.length>0)return`Unknown ${o.length>1?"values":"value"} for flag \`${ae(e)}\`: \`${o.join("`, `")}\`. ${s}`}else if(!n.includes(r))return`Unknown value for flag \`${ae(e)}\`: \`${r}\`. ${s}`},Mu=(e,t)=>{let r=[];for(let[n,i]of Object.entries(e)){let s=t[n],o=Gu(n,i,s);o&&r.push(o)}if(r.length>0)throw new Error(`${r.join(`
`)}`)},ni=(e,t)=>{Tu(e,t),Mu(t.flags,e)},ju=e=>{console.error([`Unknown flag${e.length>1?"s":""}`,...e].join(`
`))},ii=e=>{let t=e.filter(r=>typeof r=="string"&&r.startsWith("-"));t.length>0&&(ju(t),ri.exit(2))},Bu=(e,t,r,n)=>{let i=t[e],s=!0;if(typeof i.isRequired=="function"&&(s=i.isRequired(r,n),typeof s!="boolean"))throw new TypeError(`Return value for isRequired callback should be of type boolean, but ${typeof s} was returned.`);return(r[e]===void 0||i.isMultiple&&r[e].length===0)&&s},ku=e=>{console.error(`Missing required flag${e.length>1?"s":""}`);for(let t of e)console.error(`	${ae(t.key)}${t.shortFlag?`, -${t.shortFlag}`:""}`)},si=(e,t,r)=>{let n=[];if(e===void 0)return[];for(let i of Object.keys(e))e[i].isRequired&&Bu(i,e,t,r)&&n.push({key:i,...e[i]});n.length>0&&(ku(n),ri.exit(2))};var Uu=(e,t)=>{let{pkg:r}=e,n=ye(e.argv,t),i="";e.help&&(i=on((e.help||"").replace(/\t+\n*$/,"")),i.includes(`
`)&&(i=$t(i,e.helpIndent)),i=`
${i}`),_t(r);let{description:s}=e;!s&&s!==!1&&({description:s}=r),s&&=i?$t(`
${s}
`,e.helpIndent):`
${s}`,i=`${s||""}${i}
`;let o=m=>{console.log(i),jt.exit(typeof m=="number"?m:2)},a=()=>{console.log(typeof e.version=="string"?e.version:r.version),jt.exit(0)};n._.length===0&&e.argv.length===1&&(n.version===!0&&e.autoVersion?a():n.help===!0&&e.autoHelp&&o(0));let c=n._;delete n._,e.allowUnknownFlags||ii(c);let u=sn(n,{exclude:["--",/^\w$/]}),g={...u};ni(u,e);for(let m of Object.values(e.flags)){if(Array.isArray(m.aliases))for(let L of m.aliases)delete u[L];delete u[m.shortFlag]}return si(e.flags,u,c),{input:c,flags:u,unnormalizedFlags:g,pkg:r,help:i,showHelp:o,showVersion:a}},oi=(e,t={})=>{let r=ei(e,t),n=ti(r),i=Uu(r,n);return jt.title=i.pkg.bin?Object.keys(i.pkg.bin).at(0):i.pkg.name,i};import le from"chalk";import W from"chalk";import Xu from"inquirer";import{execa as Se}from"execa";import X from"chalk";async function ai(){console.log(X.blue("Getting staged diff..."));try{let{stdout:e}=await Se("git",["diff","--staged","--diff-filter=d"]);return e.trim()||null}catch(e){return e instanceof Error&&e.exitCode===1&&e.stdout===""&&e.stderr===""?(console.log(X.yellow("No staged changes detected.")),null):(console.error(X.red("Error getting staged diff:"),e instanceof Error?e.message:e),null)}}async function ci(e){console.log(X.blue(`Committing with message: "${e}"`));try{return await Se("git",["commit","-m",e]),console.log(X.green("Changes committed successfully.")),!0}catch(t){return console.error(X.red("Error committing changes:"),t instanceof Error?t.message:t),!1}}async function li(e="main"){console.log(X.blue(`Getting diff from base branch (${e})...`));try{await Se("git",["fetch","origin",e,"-q"]);let{stdout:t}=await Se("git",["diff",`origin/${e}...HEAD`,"--diff-filter=d"]);return t.trim()||null}catch(t){return console.error(X.red(`Error getting diff from base branch (${e}):`),t instanceof Error?t.message:t),null}}async function ui(){console.log(X.blue("Getting current branch name..."));try{let{stdout:e}=await Se("git",["rev-parse","--abbrev-ref","HEAD"]);return e.trim()}catch(e){return console.error(X.red("Error getting current branch:"),e instanceof Error?e.message:e),null}}import Hu from"openai";import ze from"chalk";import ve from"ora";import Ut from"fs/promises";import Wu from"os";import fi from"path";import Ue from"chalk";var zu={ai_provider:"openai",openai_model:"gpt-4o-mini",gemini_model:"gemini-1.5-flash"},Bt=fi.join(Wu.homedir(),".aigh"),kt=fi.join(Bt,"config.json");async function hi(){try{await Ut.mkdir(Bt,{recursive:!0})}catch(e){if(!(e instanceof Error&&e.code==="EEXIST"))throw console.error(Ue.red(`Error creating config directory ${Bt}:`),e),e}}async function ne(){await hi();let e={};try{let i=await Ut.readFile(kt,"utf-8");i.trim()===""?e={}:e=JSON.parse(i)}catch(i){i instanceof Error&&i.code==="ENOENT"||(i instanceof SyntaxError?console.warn(Ue.yellow(`Warning: Config file at ${kt} contains invalid JSON. Using default settings.`)):console.error(Ue.red("Unexpected error reading config file:"),i))}let t=process.env.OPENAI_API_KEY,r=process.env.GOOGLE_API_KEY,n={...zu,...e};return!n.openai_api_key&&t&&(n.openai_api_key=t),!n.google_api_key&&r&&(n.google_api_key=r),n}async function pi(e){await hi();try{let t={...e};t.openai_api_key===process.env.OPENAI_API_KEY&&delete t.openai_api_key,t.google_api_key===process.env.GOOGLE_API_KEY&&delete t.google_api_key;let r=JSON.stringify(t,null,2);await Ut.writeFile(kt,r,"utf-8")}catch(t){throw console.error(Ue.red("Error saving config file:"),t),t}}import{GoogleGenAI as Yu}from"@google/genai";async function gi(){let t=(await ne()).openai_api_key;return t?new Hu({apiKey:t}):(console.error(ze.red("Error: OpenAI API key not found. Please set OPENAI_API_KEY environment variable or run `aigh config set openai_api_key YOUR_KEY`.")),null)}async function mi(){let t=(await ne()).google_api_key;return t?new Yu({apiKey:t}):(console.error(ze.red("Error: Google API key not found. Please set GOOGLE_API_KEY env var or run `aigh config set google_api_key YOUR_KEY`.")),null)}function We(e){let t=e.trim();t=t.replace(/^```(?:\w+)?\s*\n?/,"").replace(/\n?```\s*$/,"").trim();let r=t.split(`
`),n=r.findIndex(i=>/^[a-zA-Z]+(\([^)]+\))?!?:/.test(i.trim()));return n!==-1&&(t=r.slice(n).join(`
`).trim()),t}function di(e){let t=e.match(/^\*?\*?PR Title:\*?\*? (.*)/im),r=t?We(t[1].trim()):"",n=e;return t&&(n=n.replace(t[0],"")),n=We(n.replace(/^\*?\*?PR Description:\*?\*?\n?/,"").trim()),r||(r="Generated PR Description",n=We(e)),{title:r,body:n}}async function bi(e){let t=await ne(),r=t.ai_provider||"openai";if(!e)return"feat: No changes detected";let n,i=ve();try{let s=null;if(r==="openai"){let c=await gi();if(!c)return"chore: OpenAI client not available";n=t.openai_model||"gpt-4o-mini",i=ve(`Generating commit message with OpenAI (${n})...`).start();let u=`Generate a concise git commit message in the conventional commit format for the following diff:

\`\`\`diff
${e}
\`\`\`

Commit message:`;s=(await c.chat.completions.create({messages:[{role:"user",content:u}],model:n,max_tokens:60,temperature:.7})).choices[0]?.message?.content}else if(r==="gemini"){let c=await mi();if(!c)return"chore: Gemini client not available";n=t.gemini_model||"gemini-1.5-flash",i=ve(`Generating commit message with Gemini (${n})...`).start();let u=`Generate a concise git commit message in the conventional commit format for the following diff:

\`\`\`diff
${e}
\`\`\`

Commit message:`;s=(await c.models.generateContent({model:n,contents:u})).text??null}else throw new Error(`Unsupported AI provider: ${r}`);if(!s)throw new Error("AI did not return a message.");let a=We(s).split(`
`)[0].trim();return i.succeed(`AI (${r}) generated commit message!`),a}catch(s){return i.fail(`Failed to generate commit message using ${r} (${n}).`),console.error(ze.red("Error details:"),s instanceof Error?s.message:s),`chore: Failed to generate commit message via ${r}`}}async function yi(e,t){let r=await ne(),n=r.ai_provider||"openai",i,s=ve(),o={title:`chore: Failed to generate PR title via ${n}`,body:`Failed to generate PR description via ${n}.

Diff:
\`\`\`diff
${e}
\`\`\``};try{let a,c,u="Generate a Pull Request title and description for the following changes.",g=t?`Use this PR template as a base:
---TEMPLATE START---
${t}
---TEMPLATE END---

`:"",m=`Apply the following diff to generate the content:
\`\`\`diff
${e}
\`\`\``,C=`${u}

${g}${m}

Format the output EXACTLY as follows, including the labels:
PR Title: [Generated PR Title]
PR Description:
[Generated PR Description based on diff and template if provided]`;if(n==="openai"){let v=await gi();if(!v)return{title:"chore: OpenAI client not available",body:"Client init failed."};i=r.openai_model||"gpt-4o-mini",s=ve(`Generating PR details with OpenAI (${i})...`).start();let l=(await v.chat.completions.create({messages:[{role:"user",content:C}],model:i,max_tokens:500,temperature:.7})).choices[0]?.message?.content?.trim();if(!l)throw new Error("OpenAI did not return content.");let y=di(l);a=y.title,c=y.body}else if(n==="gemini"){let v=await mi();if(!v)return{title:"chore: Gemini client not available",body:"Client init failed."};i=r.gemini_model||"gemini-1.5-flash",s=ve(`Generating PR details with Gemini (${i})...`).start();let l=(await v.models.generateContent({model:i,contents:C})).text??null;if(!l)throw new Error("Gemini did not return content.");let y=di(l);a=y.title,c=y.body}else throw new Error(`Unsupported AI provider: ${n}`);if(!a||c===void 0)throw new Error("Failed to parse AI response for title and body.");return s.succeed(`AI (${n}) generated PR title and description!`),{title:a,body:c}}catch(a){return s.fail(`Failed to generate PR description using ${n} (${i}).`),console.error(ze.red("Error details:"),a instanceof Error?a.message:a),o}}import ce from"fs/promises";import Vu from"os";import Wt from"path";import{execa as Ku}from"execa";import zt from"chalk";async function He(e,t=".txt"){let r=process.env.VISUAL||process.env.EDITOR;if(!r)throw new Error("Neither VISUAL nor EDITOR environment variables are set. Please configure your default editor.");let n=Vu.tmpdir(),i="aigh-edit-",s;try{let o=await ce.mkdtemp(Wt.join(n,i));s=Wt.join(o,`edit${t}`),await ce.writeFile(s,e),console.log(zt.blue(`Opening editor (${r}) for file: ${s}`));let a=r.includes("code")?["--wait",s]:[s],c=r.includes("code")?r.split(" ")[0]:r;await Ku(c,a,{stdio:"inherit"});let u=await ce.readFile(s,"utf-8");return await ce.unlink(s),await ce.rmdir(o),u}catch(o){if(console.error(zt.red("Error opening or reading from editor:"),o),s)try{let a=Wt.dirname(s);await ce.unlink(s),await ce.rmdir(a)}catch(a){console.error(zt.yellow("Failed to cleanup temporary editor file:"),a)}throw o}}async function vi(e){console.log(W.green("Starting commit process..."));let t=await ai();if(t===null)return;if(!t){console.log(W.yellow("No staged changes to commit."));return}let r=await bi(t);if(!r||r==="chore: Failed to generate commit message"||r==="chore: OpenAI client not available"){console.error(W.red("Could not generate commit message. Aborting commit."));return}if(e.editor)try{console.log(W.blue("Opening generated message in editor..."));let s=await He(r,".gitcommit");if(!s.trim()){console.error(W.red("Edited message is empty. Aborting commit."));return}r=s.trim(),console.log(W.green("Editor closed. Using edited message."))}catch(s){console.error(W.red("Failed to edit commit message:"),s);return}console.log(`
------------------------------------`),console.log(W.bold("Commit Message:")),console.log(W.yellow(r)),console.log(`------------------------------------
`);let{confirmCommit:n}=await Xu.prompt([{type:"confirm",name:"confirmCommit",message:"Use this commit message?",default:!0}]);if(!n){console.log(W.yellow("Commit aborted by user."));return}await ci(r)?console.log(W.green.bold("Successfully committed changes!")):console.error(W.red("Failed to commit changes."))}import F from"chalk";import Qu from"inquirer";import qu from"fs/promises";import Ju from"path";import Ht from"chalk";async function Ei(){let e=Ju.join(".github","pull_request_template.md");try{let t=await qu.readFile(e,"utf-8");return console.log(Ht.blue("Found and read PR template file.")),t}catch(t){return t.code==="ENOENT"?console.log(Ht.yellow("No PR template file found at .github/pull_request_template.md")):console.error(Ht.red("Error reading PR template file:"),t instanceof Error?t.message:t),null}}import{execa as Zu}from"execa";import Ye from"chalk";async function wi(e){let{title:t,body:r,baseBranch:n,draft:i=!0,web:s=!1}=e;console.log(Ye.blue("Creating GitHub PR..."));let o=["pr","create","--title",t,"--body",r];n&&o.push("--base",n),i&&!s&&o.push("--draft"),s&&o.push("--web");try{let{stdout:a,stderr:c}=await Zu("gh",o);return console.log(Ye.green("Successfully created PR:")),console.log(a),c&&console.warn(Ye.yellow("gh command stderr:"),c),!0}catch(a){return console.error(Ye.red("Error creating GitHub PR:"),a instanceof Error?a.message:a),!1}}async function Li(e){console.log(F.green("Starting PR creation process..."));let t=e.base||"main",r=e.draft!==void 0?e.draft:!0,n=e.web||!1,i=await ui();if(!i){console.error(F.red("Could not determine current branch. Aborting."));return}if(i===t){console.error(F.red(`Cannot create PR from branch "${i}" to itself.`));return}console.log(F.blue(`Current branch: ${i}`)),console.log(F.blue(`Base branch: ${t}`));let s=await li(t);if(s===null){console.error(F.red("Could not get diff from base branch. Aborting."));return}if(!s){console.log(F.yellow("No changes detected between current branch and base branch."));return}let o=await Ei(),{title:a,body:c}=await yi(s,o);if(a==="chore: Failed to generate PR title"||a==="chore: OpenAI client not available"){console.error(F.red("Could not generate PR title/description. Aborting."));return}if(e.editor)try{console.log(F.blue("Opening generated PR title & description in editor..."));let m=`${a}

${c}`,C=(await He(m,".md")).split(`
`),v=C[0].trim(),p=C.slice(1).join(`
`).trim();if(!v){console.error(F.red("Edited title is empty. Aborting PR creation."));return}a=v,c=p,console.log(F.green("Editor closed. Using edited title and description."))}catch(m){console.error(F.red("Failed to edit PR content:"),m);return}console.log(`
------------------------------------`),console.log(F.bold("PR Title:")),console.log(F.yellow(a)),console.log(`
`+F.bold("PR Description:")),console.log(F.dim(c)),console.log(`------------------------------------
`);let{confirmPr:u}=await Qu.prompt([{type:"confirm",name:"confirmPr",message:"Create PR with this title and description?",default:!0}]);if(!u){console.log(F.yellow("PR creation aborted by user."));return}await wi({title:a,body:c,baseBranch:t,draft:r,web:n})?console.log(F.green.bold("Successfully created GitHub PR!")):console.error(F.red("Failed to create GitHub PR."))}import z from"chalk";var Ve=["ai_provider","openai_api_key","openai_model","google_api_key","gemini_model"];function Ke(e){return Ve.includes(e)}function Ci(e,t){let r=e[t];return r==null?z.grey("(Not set)"):typeof r=="string"&&t.includes("_api_key")?`${r.slice(0,4)}...${r.slice(-4)}`:String(r)}async function Ai(e){let t=await ne();if(e)Ke(e)?console.log(`${e}: ${Ci(t,e)}`):(console.error(z.red(`Invalid config key: ${e}`)),console.log(z.blue("Valid keys are:"),Ve.join(", ")),process.exit(1));else{console.log(z.bold("Current aigh configuration:"));for(let r of Ve)Ke(r)&&console.log(`  ${r}: ${Ci(t,r)}`);console.log(z.dim(`
Config file location: ~/.aigh/config.json`))}}async function Oi(e,t){Ke(e)||(console.error(z.red(`Invalid config key: ${e}`)),console.log(z.blue("Valid keys are:"),Ve.join(", ")),process.exit(1)),e==="ai_provider"&&t!=="openai"&&t!=="gemini"&&(console.error(z.red(`Invalid value for ai_provider: ${t}. Must be 'openai' or 'gemini'.`)),process.exit(1));let r=await ne();r[e]=t;try{if(await pi(r),console.log(z.green(`Successfully set ${e} to ${t}`)),e==="openai_api_key"||e==="google_api_key")console.log(z.yellow("API key saved to ~/.aigh/config.json. It won't be displayed fully."));else if(e==="ai_provider"){let n=t==="openai"?"openai_api_key":"google_api_key",i=t==="openai"?"OPENAI_API_KEY":"GOOGLE_API_KEY";Ke(n)&&!r[n]&&!process.env[i]&&console.log(z.yellow(`Switched provider to ${t}. Remember to set the ${n}!`))}}catch(n){console.error(z.red(`Failed to save configuration for key ${e}:`),n),process.exit(1)}}ef.config();var ue=oi(`
  Usage
    $ aigh <command> [options]

  Commands
    commit           Generate AI commit message for staged changes
    pr new           Create a new draft PR with AI-generated description
    config get [key] Show current configuration (or specific key)
    config set <key> <value> Set a configuration key

  Options
    --help, -h       Show help
    --version, -v    Show version

  Commit Options:
    -e, --editor     Open generated message in editor before committing

  PR New Options:
    --base <branch>  Specify base branch for 'pr new' (default: main)
    --no-draft       Create the PR as ready for review instead of draft
    --web            Open the created PR in the web browser
    -e, --editor     Open generated title & body in editor before creating

  Config Keys:
    ai_provider      (openai | gemini)
    openai_api_key   (Your OpenAI API key)
    openai_model     (e.g., gpt-4o-mini)
    google_api_key   (Your Google API key for Gemini)
    gemini_model     (e.g., gemini-1.5-flash)

  Examples
    $ aigh commit
    $ aigh commit -e
    $ aigh pr new
    $ aigh pr new --base develop --no-draft --web -e
    $ aigh config get
    $ aigh config get ai_provider
    $ aigh config set ai_provider gemini
    $ aigh config set openai_api_key sk-...
`,{importMeta:import.meta,flags:{base:{type:"string"},draft:{type:"boolean",default:!0},web:{type:"boolean",default:!1},editor:{type:"boolean",shortFlag:"e",default:!1}},allowUnknownFlags:!1});async function tf(e,t){let r=e[0],n=e[1],i=e.slice(2);if(!r){ue.showHelp();return}try{switch(r){case"commit":await vi({editor:t.editor});break;case"pr":n==="new"?await Li({base:t.base,draft:t.draft,web:t.web,editor:t.editor}):(console.error(le.red(`Unknown pr subcommand: ${n}`)),ue.showHelp(1));break;case"config":n==="get"?await Ai(i[0]):n==="set"?i.length<2?(console.error(le.red("Usage: aigh config set <key> <value>")),ue.showHelp(1)):await Oi(i[0],i[1]):(console.error(le.red(`Unknown config subcommand: ${n}`)),ue.showHelp(1));break;default:console.error(le.red(`Unknown command: ${r}`)),ue.showHelp(1);break}}catch(s){console.error(le.red(`
An unexpected error occurred:`)),s instanceof Error?console.error(le.red(s.message)):console.error(le.red(String(s))),process.exit(1)}}tf(ue.input,ue.flags);
